{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst getStorgeSearchData = () => {\n  const storgeData = localStorage.getItem('searchHistory');\n  return storgeData && storgeData.length ? JSON.parse(storgeData) : [];\n};\nconst hasInArr = (arr, val) => {\n  if (arr.length) {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].goodsId === val.goodsId) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    return false;\n  }\n};\nexport default {\n  state: {\n    searchHistory: []\n  },\n  getters: {\n    searchHistory: state => {\n      return state.searchHistory.length ? state.searchHistory : getStorgeSearchData();\n    }\n  },\n  mutations: {\n    SET_SEARCH_HISTORY: (state, arr) => {\n      const arrStr = JSON.stringify(arr);\n      state.searchHistory = arr;\n      localStorage.setItem('searchHistory', arrStr);\n    },\n    CLEAR_SEARCH_HISTORY: state => {\n      state.searchHistory = [];\n      localStorage.removeItem('searchHistory');\n    }\n  },\n  actions: {\n    setSearchHistory: ({\n      commit,\n      state\n    }, val) => {\n      const storeData = state.searchHistory.length ? state.searchHistory : getStorgeSearchData();\n      const data = [...storeData];\n      if (!hasInArr(storeData, val)) {\n        data.push(val);\n      }\n      commit('SET_SEARCH_HISTORY', data);\n    },\n    clearSearchHistory: ({\n      commit\n    }) => {\n      commit('CLEAR_SEARCH_HISTORY');\n    }\n  }\n};","map":{"version":3,"names":["getStorgeSearchData","storgeData","localStorage","getItem","length","JSON","parse","hasInArr","arr","val","i","goodsId","state","searchHistory","getters","mutations","SET_SEARCH_HISTORY","arrStr","stringify","setItem","CLEAR_SEARCH_HISTORY","removeItem","actions","setSearchHistory","commit","storeData","data","push","clearSearchHistory"],"sources":["C:/Users/HP/Desktop/tk06/tiktok06/buyPhone/src/store/modules/app.js"],"sourcesContent":["const getStorgeSearchData = () => {\r\n  const storgeData = localStorage.getItem('searchHistory')\r\n  return (storgeData && storgeData.length) ? JSON.parse(storgeData) : []\r\n}\r\n\r\nconst hasInArr = (arr, val) => {\r\n  if (arr.length) {\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (arr[i].goodsId === val.goodsId) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nexport default {\r\n  state: {\r\n    searchHistory: []\r\n  },\r\n  getters: {\r\n    searchHistory: (state) => {\r\n      return state.searchHistory.length ? state.searchHistory : getStorgeSearchData()\r\n    }\r\n  },\r\n  mutations: {\r\n    SET_SEARCH_HISTORY: (state, arr) => {\r\n      const arrStr = JSON.stringify(arr)\r\n      state.searchHistory = arr\r\n      localStorage.setItem('searchHistory', arrStr)\r\n    },\r\n    CLEAR_SEARCH_HISTORY: (state) => {\r\n      state.searchHistory = []\r\n      localStorage.removeItem('searchHistory')\r\n    }\r\n  },\r\n  actions: {\r\n    setSearchHistory: ({commit, state}, val) => {\r\n      const storeData = state.searchHistory.length ? state.searchHistory : getStorgeSearchData()\r\n      const data = [...storeData]\r\n      if (!hasInArr(storeData, val)) {\r\n        data.push(val)\r\n      }\r\n      commit('SET_SEARCH_HISTORY', data)\r\n    },\r\n    clearSearchHistory: ({commit}) => {\r\n      commit('CLEAR_SEARCH_HISTORY')\r\n    }\r\n  }\r\n}\r\n"],"mappings":";AAAA,MAAMA,mBAAmB,GAAGA,CAAA,KAAM;EAChC,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;EACxD,OAAQF,UAAU,IAAIA,UAAU,CAACG,MAAM,GAAIC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,GAAG,EAAE;AACxE,CAAC;AAED,MAAMM,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC7B,IAAID,GAAG,CAACJ,MAAM,EAAE;IACd,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACJ,MAAM,EAAEM,CAAC,EAAE,EAAE;MACnC,IAAIF,GAAG,CAACE,CAAC,CAAC,CAACC,OAAO,KAAKF,GAAG,CAACE,OAAO,EAAE;QAClC,OAAO,IAAI;MACb;IACF;IACA,OAAO,KAAK;EACd,CAAC,MAAM;IACL,OAAO,KAAK;EACd;AACF,CAAC;AAED,eAAe;EACbC,KAAK,EAAE;IACLC,aAAa,EAAE;EACjB,CAAC;EACDC,OAAO,EAAE;IACPD,aAAa,EAAGD,KAAK,IAAK;MACxB,OAAOA,KAAK,CAACC,aAAa,CAACT,MAAM,GAAGQ,KAAK,CAACC,aAAa,GAAGb,mBAAmB,CAAC,CAAC;IACjF;EACF,CAAC;EACDe,SAAS,EAAE;IACTC,kBAAkB,EAAEA,CAACJ,KAAK,EAAEJ,GAAG,KAAK;MAClC,MAAMS,MAAM,GAAGZ,IAAI,CAACa,SAAS,CAACV,GAAG,CAAC;MAClCI,KAAK,CAACC,aAAa,GAAGL,GAAG;MACzBN,YAAY,CAACiB,OAAO,CAAC,eAAe,EAAEF,MAAM,CAAC;IAC/C,CAAC;IACDG,oBAAoB,EAAGR,KAAK,IAAK;MAC/BA,KAAK,CAACC,aAAa,GAAG,EAAE;MACxBX,YAAY,CAACmB,UAAU,CAAC,eAAe,CAAC;IAC1C;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgB,EAAEA,CAAC;MAACC,MAAM;MAAEZ;IAAK,CAAC,EAAEH,GAAG,KAAK;MAC1C,MAAMgB,SAAS,GAAGb,KAAK,CAACC,aAAa,CAACT,MAAM,GAAGQ,KAAK,CAACC,aAAa,GAAGb,mBAAmB,CAAC,CAAC;MAC1F,MAAM0B,IAAI,GAAG,CAAC,GAAGD,SAAS,CAAC;MAC3B,IAAI,CAAClB,QAAQ,CAACkB,SAAS,EAAEhB,GAAG,CAAC,EAAE;QAC7BiB,IAAI,CAACC,IAAI,CAAClB,GAAG,CAAC;MAChB;MACAe,MAAM,CAAC,oBAAoB,EAAEE,IAAI,CAAC;IACpC,CAAC;IACDE,kBAAkB,EAAEA,CAAC;MAACJ;IAAM,CAAC,KAAK;MAChCA,MAAM,CAAC,sBAAsB,CAAC;IAChC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}