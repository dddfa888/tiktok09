{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/popup/style\";\nimport _popup from \"vant/es/popup\";\nimport \"vant/es/empty/style\";\nimport _Empty from \"vant/es/empty\";\nimport \"vant/es/picker/style\";\nimport _Picker from \"vant/es/picker\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { chongzhijilu_post } from \"@/API/user\";\nimport { priceFormat } from '@/utils/utis';\nexport default {\n  data() {\n    return {\n      list: [],\n      loading: false,\n      finished: false,\n      refreshing: false,\n      page_no: 0,\n      content_type: 'brokerage',\n      // columns: [this.$t('全部'), this.$t('recharge'), this.$t('withdraw'), this.$t('brokerage'), this.$t('sys-increment'), this.$t('sys-decrement'), this.$t('vip-recharge'), this.$t('freeze-order'), this.$t('unfreeze-order'), this.$t('pay-order'), this.$t('bonus')],\n      columns2: ['', 'recharge', 'withdraw', 'brokerage', 'sys-increment', 'sys-decrement', 'vip-recharge', 'freeze-order', 'unfreeze-order', 'pay-order', 'bonus'],\n      showPicker: false,\n      shaixuan_index: 0,\n      priceFormat\n    };\n  },\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_List.name]: _List,\n    [_PullRefresh.name]: _PullRefresh,\n    [_Icon.name]: _Icon,\n    [_Picker.name]: _Picker,\n    [_Empty.name]: _Empty,\n    [_popup.name]: _popup\n  },\n  created() {\n    // this.libiao_post()\n  },\n  methods: {\n    copyData(ea) {\n      //如果需要回调：\n      this.$copyText(ea).then(e => {\n        _Toast(this.$t('复制成功'));\n        console.log(e);\n      }, function (e) {\n        _Toast(this.$t('复制失败'));\n        console.log(e);\n      });\n    },\n    onConfirm(value, index) {\n      this.content_type = this.columns2[index];\n      this.page_no = 0;\n      this.finished = false;\n      this.libiao_post();\n      this.showPicker = false;\n      this.list = [];\n      // Toast(`当前值：${value}, 当前索引：${index}`);\n    },\n    onChange(picker, value, index) {\n      // Toast(`当前值：${value}, 当前索引：${index}`);\n      console.log(picker, value, index);\n    },\n    onCancel() {\n      this.showPicker = false;\n      // Toast('取消');\n    },\n    onClickRight() {\n      this.showPicker = true;\n    },\n    libiao_post() {\n      this.page_no++;\n      chongzhijilu_post({\n        page_no: this.page_no\n      }).then(res => {\n        // console.log(res)\n        // for (let i = 0; i < res.length; i++) {\n        //   this.list.push(res[i]);\n        // }\n        if (res.elements.length == 0) {\n          this.finished = true;\n        } else {\n          this.loading = false;\n          this.list = [...this.list, ...res.elements];\n        }\n        var obj = {};\n        this.list = this.list.reduce((prev, cur) => {\n          obj[cur.order_no] ? \"\" : obj[cur.order_no] = true && prev.push(cur);\n          return prev;\n        }, []);\n        console.log(`this.list ::->`, this.list);\n      });\n    },\n    onClickLeft() {\n      this.$router.push({\n        path: '/rechargeList',\n        dir: 'left'\n      });\n    },\n    onLoad() {\n      if (this.refreshing) {\n        this.list = [];\n        this.refreshing = false;\n      }\n      this.libiao_post();\n    },\n    onRefresh() {\n      // 清空列表数据\n      this.finished = false;\n      this.page_no = 0;\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.onLoad();\n    },\n    openDeital(order_no, failure_msg) {\n      this.$router.push({\n        path: '/rechargeRecordDetails',\n        query: {\n          order_no,\n          failure_msg\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["chongzhijilu_post","priceFormat","data","list","loading","finished","refreshing","page_no","content_type","columns2","showPicker","shaixuan_index","components","_NavBar","name","_List","_PullRefresh","_Icon","_Picker","_Empty","_popup","created","methods","copyData","ea","$copyText","then","e","_Toast","$t","console","log","onConfirm","value","index","libiao_post","onChange","picker","onCancel","onClickRight","res","elements","length","obj","reduce","prev","cur","order_no","push","onClickLeft","$router","path","dir","onLoad","onRefresh","openDeital","failure_msg","query"],"sources":["src/page/recharge/Record/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"rechargeRecord\" style=\"min-height: 100vh;\">\r\n        <van-nav-bar safe-area-inset-top fixed :title=\"$t('充值记录')\" left-arrow @click-left=\"onClickLeft\" />\r\n        <div style=\"width: 100%;\" class=\"h46\"></div>\r\n        <div class=\"nr\">\r\n            <!--/*      <div style=\"width: 100%;height: 1px;background: #F6F6F6;margin-left: 50px;\"></div>*/-->\r\n            <van-pull-refresh style=\"min-height: 100vh;\" v-model=\"refreshing\" @refresh=\"onRefresh\"\r\n                :pulling-text=\"$t('下拉即可刷新')\" :loosing-text=\"$t('释放即可刷新')\" :loading-text=\"$t('加载中')\">\r\n                <van-list v-model=\"loading\" :finished=\"finished\" :loading-text=\"$t('加载中')\"\r\n                    :finished-text=\"list.length ? $t('没有更多了') : ''\" @load=\"onLoad\">\r\n                    <!--          <div >{{ item }}</div>-->\r\n                    <template v-if=\"list.length\">\r\n                        <div class=\"\" v-for=\"(item, index) in list\" :key=\"index\">\r\n                            <div class=\"liebiao\" @click=\"openDeital(item.order_no, item.state == 2 && item.failure_msg)\">\r\n                                <div class=\"pinglie\">\r\n                                    <div class=\"l1\">{{ $t('订单号') }}</div>\r\n                                    <div class=\"r1\" @click=\"copyData(item.order_no)\">{{ item.order_no }}</div>\r\n                                    <img @click.stop=\"copyData(item.order_no)\" src=\"@/assets/image/me/fuzhi1.png\"\r\n                                        style=\"width: 10px;height: 10px;margin-left: 4px;\" />\r\n                                </div>\r\n                                <div class=\"pinglie\">\r\n                                    <div class=\"l1\">{{ $t('创建时间') }}</div>\r\n                                    <div class=\"r1\">{{ item.createTime }}</div>\r\n                                </div>\r\n                                <div class=\"pinglie\">\r\n                                    <div class=\"l1\">{{ $t('充值数量') }}</div>\r\n                                    <div class=\"r1 chulizhi\">{{ item.volume > 1 ? priceFormat(item.volume) : item.volume }} {{ item.coin }}</div>\r\n                                </div>\r\n                                <div class=\"pinglie\">\r\n                                    <div class=\"l1\">{{ $t('实际到账') }}</div>\r\n                                    <div class=\"r1 chulizhi\" v-if=\"priceFormat(item.amount)\">\r\n                                        {{ priceFormat(item.amount) }} USDT\r\n                                    </div>\r\n                                    <div class=\"r1 chulizhi\" v-else>--</div>\r\n                                </div>\r\n                                <div class=\"pinglie\">\r\n                                    <div class=\"l1\">{{ $t('状态') }}</div>\r\n                                    <div class=\"r1 chulizhi\" v-if=\"item.state == 0\">{{ $t('处理中') }}</div>\r\n                                    <div class=\"r1 chenggong\" v-if=\"item.state == 1\">{{ $t('成功') }}</div>\r\n                                    <div class=\"r1 shibai\" v-if=\"item.state == 2\">{{ $t('失败') }}</div>\r\n                                </div>\r\n                                <div class=\"pinglie\" v-if=\"item.state == 2\">\r\n                                    <div class=\"l1\">{{ $t('失败原因') }}</div>\r\n                                    <div class=\"r1 chulizhi\">{{ item.failure_msg || '--' }}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div style=\"width: 100%;height: 1px;background: #F6F6F6;\"></div>\r\n                    </template>\r\n                    <van-empty v-if=\"list.length == 0\" :description=\"$t('暂无记录')\" />\r\n                </van-list>\r\n            </van-pull-refresh>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { NavBar, List, PullRefresh, Icon, Picker, popup, Toast, Empty } from 'vant';\r\nimport { chongzhijilu_post } from \"@/API/user\";\r\nimport { priceFormat } from '@/utils/utis'\r\nexport default {\r\n    data() {\r\n        return {\r\n            list: [],\r\n            loading: false,\r\n            finished: false,\r\n            refreshing: false,\r\n            page_no: 0,\r\n            content_type: 'brokerage',\r\n            // columns: [this.$t('全部'), this.$t('recharge'), this.$t('withdraw'), this.$t('brokerage'), this.$t('sys-increment'), this.$t('sys-decrement'), this.$t('vip-recharge'), this.$t('freeze-order'), this.$t('unfreeze-order'), this.$t('pay-order'), this.$t('bonus')],\r\n            columns2: ['', 'recharge', 'withdraw', 'brokerage', 'sys-increment', 'sys-decrement', 'vip-recharge', 'freeze-order', 'unfreeze-order', 'pay-order', 'bonus'],\r\n            showPicker: false,\r\n            shaixuan_index: 0,\r\n            priceFormat\r\n        };\r\n    },\r\n    components: {\r\n        [NavBar.name]: NavBar,\r\n        [List.name]: List,\r\n        [PullRefresh.name]: PullRefresh,\r\n        [Icon.name]: Icon,\r\n        [Picker.name]: Picker,\r\n        [Empty.name]: Empty,\r\n        [popup.name]: popup\r\n    },\r\n    created() {\r\n        // this.libiao_post()\r\n    },\r\n    methods: {\r\n        copyData(ea) {\r\n            //如果需要回调：\r\n            this.$copyText(ea).then(e => {\r\n                Toast(this.$t('复制成功'))\r\n                console.log(e)\r\n            }, function (e) {\r\n                Toast(this.$t('复制失败'))\r\n                console.log(e)\r\n            })\r\n        },\r\n        onConfirm(value, index) {\r\n            this.content_type = this.columns2[index]\r\n            this.page_no = 0\r\n            this.finished = false;\r\n            this.libiao_post()\r\n            this.showPicker = false\r\n            this.list = [];\r\n            // Toast(`当前值：${value}, 当前索引：${index}`);\r\n        },\r\n        onChange(picker, value, index) {\r\n            // Toast(`当前值：${value}, 当前索引：${index}`);\r\n            console.log(picker, value, index)\r\n        },\r\n        onCancel() {\r\n            this.showPicker = false\r\n            // Toast('取消');\r\n        },\r\n        onClickRight() {\r\n            this.showPicker = true\r\n        },\r\n        libiao_post() {\r\n            this.page_no++\r\n            chongzhijilu_post({ page_no: this.page_no }).then(res => {\r\n                // console.log(res)\r\n                // for (let i = 0; i < res.length; i++) {\r\n                //   this.list.push(res[i]);\r\n                // }\r\n                if (res.elements.length == 0) {\r\n                    this.finished = true;\r\n                } else {\r\n                    this.loading = false;\r\n                    this.list = [...this.list, ...res.elements]\r\n                }\r\n                var obj = {};\r\n                this.list = this.list.reduce((prev, cur) => {\r\n                    obj[cur.order_no] ? \"\" : (obj[cur.order_no] = true && prev.push(cur));\r\n                    return prev;\r\n                }, []);\r\n                console.log(`this.list ::->`, this.list);\r\n            })\r\n        },\r\n        onClickLeft() {\r\n            this.$router.push({ path: '/rechargeList', dir: 'left' })\r\n        },\r\n        onLoad() {\r\n            if (this.refreshing) {\r\n                this.list = [];\r\n                this.refreshing = false;\r\n            }\r\n            this.libiao_post()\r\n        },\r\n        onRefresh() {\r\n            // 清空列表数据\r\n            this.finished = false;\r\n            this.page_no = 0\r\n            // 重新加载数据\r\n            // 将 loading 设置为 true，表示处于加载状态\r\n            this.loading = true;\r\n            this.onLoad();\r\n        },\r\n        openDeital(order_no, failure_msg) {\r\n            this.$router.push({\r\n                path: '/rechargeRecordDetails',\r\n                query: {\r\n                    order_no,\r\n                    failure_msg\r\n                }\r\n            })\r\n        }\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.rechargeRecord {\r\n    width: 100%;\r\n    //height: 100%;\r\n    min-height: 100%;\r\n    background: #F5F5F7;\r\n\r\n    * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .nr {\r\n        width: 100%;\r\n        padding: 0 15px;\r\n        box-sizing: border-box;\r\n\r\n        .liebiao {\r\n            margin-top: 7px;\r\n            padding: 0 10px;\r\n            width: 100%;\r\n            background: #fff;\r\n\r\n            .pinglie {\r\n                padding: 15px 0;\r\n                box-sizing: border-box;\r\n                width: 100%;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                border-bottom: 1px solid #eee;\r\n\r\n                &:last-child {\r\n                    border-bottom: none;\r\n                }\r\n\r\n                .l1 {\r\n                    flex: 1;\r\n                    font-style: normal;\r\n                    font-weight: 400;\r\n                    font-size: 14px;\r\n                    color: #000;\r\n                }\r\n\r\n                .r1 {\r\n                    font-style: normal;\r\n                    font-weight: 400;\r\n                    font-size: 14px;\r\n                    line-height: 16px;\r\n                    text-align: end;\r\n\r\n                    color: #000;\r\n\r\n                }\r\n\r\n                .chulizhi {\r\n                    color: var(--main-color) !important;\r\n                }\r\n\r\n                .shibai {\r\n                    color: #FF4141;\r\n                }\r\n\r\n                .chenggong {\r\n                    color: #0ECB81;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAyDA,SAAAA,iBAAA;AACA,SAAAC,WAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,OAAA;MACAC,QAAA;MACAC,UAAA;MACAC,OAAA;MACAC,YAAA;MACA;MACAC,QAAA;MACAC,UAAA;MACAC,cAAA;MACAV;IACA;EACA;EACAW,UAAA;IACA,CAAAC,OAAA,CAAAC,IAAA,GAAAD,OAAA;IACA,CAAAE,KAAA,CAAAD,IAAA,GAAAC,KAAA;IACA,CAAAC,YAAA,CAAAF,IAAA,GAAAE,YAAA;IACA,CAAAC,KAAA,CAAAH,IAAA,GAAAG,KAAA;IACA,CAAAC,OAAA,CAAAJ,IAAA,GAAAI,OAAA;IACA,CAAAC,MAAA,CAAAL,IAAA,GAAAK,MAAA;IACA,CAAAC,MAAA,CAAAN,IAAA,GAAAM;EACA;EACAC,QAAA;IACA;EAAA,CACA;EACAC,OAAA;IACAC,SAAAC,EAAA;MACA;MACA,KAAAC,SAAA,CAAAD,EAAA,EAAAE,IAAA,CAAAC,CAAA;QACAC,MAAA,MAAAC,EAAA;QACAC,OAAA,CAAAC,GAAA,CAAAJ,CAAA;MACA,aAAAA,CAAA;QACAC,MAAA,MAAAC,EAAA;QACAC,OAAA,CAAAC,GAAA,CAAAJ,CAAA;MACA;IACA;IACAK,UAAAC,KAAA,EAAAC,KAAA;MACA,KAAA1B,YAAA,QAAAC,QAAA,CAAAyB,KAAA;MACA,KAAA3B,OAAA;MACA,KAAAF,QAAA;MACA,KAAA8B,WAAA;MACA,KAAAzB,UAAA;MACA,KAAAP,IAAA;MACA;IACA;IACAiC,SAAAC,MAAA,EAAAJ,KAAA,EAAAC,KAAA;MACA;MACAJ,OAAA,CAAAC,GAAA,CAAAM,MAAA,EAAAJ,KAAA,EAAAC,KAAA;IACA;IACAI,SAAA;MACA,KAAA5B,UAAA;MACA;IACA;IACA6B,aAAA;MACA,KAAA7B,UAAA;IACA;IACAyB,YAAA;MACA,KAAA5B,OAAA;MACAP,iBAAA;QAAAO,OAAA,OAAAA;MAAA,GAAAmB,IAAA,CAAAc,GAAA;QACA;QACA;QACA;QACA;QACA,IAAAA,GAAA,CAAAC,QAAA,CAAAC,MAAA;UACA,KAAArC,QAAA;QACA;UACA,KAAAD,OAAA;UACA,KAAAD,IAAA,YAAAA,IAAA,KAAAqC,GAAA,CAAAC,QAAA;QACA;QACA,IAAAE,GAAA;QACA,KAAAxC,IAAA,QAAAA,IAAA,CAAAyC,MAAA,EAAAC,IAAA,EAAAC,GAAA;UACAH,GAAA,CAAAG,GAAA,CAAAC,QAAA,SAAAJ,GAAA,CAAAG,GAAA,CAAAC,QAAA,YAAAF,IAAA,CAAAG,IAAA,CAAAF,GAAA;UACA,OAAAD,IAAA;QACA;QACAf,OAAA,CAAAC,GAAA,wBAAA5B,IAAA;MACA;IACA;IACA8C,YAAA;MACA,KAAAC,OAAA,CAAAF,IAAA;QAAAG,IAAA;QAAAC,GAAA;MAAA;IACA;IACAC,OAAA;MACA,SAAA/C,UAAA;QACA,KAAAH,IAAA;QACA,KAAAG,UAAA;MACA;MACA,KAAA6B,WAAA;IACA;IACAmB,UAAA;MACA;MACA,KAAAjD,QAAA;MACA,KAAAE,OAAA;MACA;MACA;MACA,KAAAH,OAAA;MACA,KAAAiD,MAAA;IACA;IACAE,WAAAR,QAAA,EAAAS,WAAA;MACA,KAAAN,OAAA,CAAAF,IAAA;QACAG,IAAA;QACAM,KAAA;UACAV,QAAA;UACAS;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}