{"ast":null,"code":"import request from \"@/request\";\n\n// 获取消息列表\nexport const _getMsg = params => {\n  let sessionUUID = localStorage.getItem(\"sessionUUID\");\n  if (!sessionUUID) {\n    sessionUUID = crypto.randomUUID();\n    localStorage.setItem(\"sessionUUID\", sessionUUID);\n  }\n  return request({\n    url: \"api/newOnlinechat!list.action\",\n    // loading: true,\n    method: \"GET\",\n    params: {\n      token: params.token,\n      message_id: params.message_id || '',\n      // 翻页用到\n      show_img: params.show_img || true,\n      anonymousId: sessionUUID\n    }\n  });\n};\n\n// 未读消息\nexport const _getUnreadMsg = () => {\n  return request({\n    url: \"api/newOnlinechat!unread.action\",\n    loading: true,\n    method: \"GET\"\n  });\n};\n\n// 发送消息\nexport const _sendMsg = (type = 'text', content = '', token = '') => {\n  let sessionUUID = localStorage.getItem(\"sessionUUID\");\n  if (!sessionUUID) {\n    sessionUUID = crypto.randomUUID();\n    localStorage.setItem(\"sessionUUID\", sessionUUID);\n  }\n  return request({\n    url: \"api/newOnlinechat!send.action\",\n    // loading: true,\n    method: \"GET\",\n    params: {\n      type,\n      // 消息类型， img / text\n      content,\n      token,\n      anonymousId: sessionUUID\n    }\n  });\n};\n// 发送消息\nexport const _sendMsg2 = (type = 'text', content = '', token = '') => {\n  return request({\n    url: \"api/newOnlinechat!send.action\",\n    // loading: true,\n    method: \"GET\",\n    params: {\n      type,\n      // 消息类型， img / text\n      content,\n      token\n    }\n  });\n};\n\n// 获取客服在线时间\nexport const _getOnlineTime = () => {\n  return request({\n    url: \"api/customerServiceTimeRange\",\n    // loading: true,\n    method: \"GET\"\n  });\n};","map":{"version":3,"names":["request","_getMsg","params","sessionUUID","localStorage","getItem","crypto","randomUUID","setItem","url","method","token","message_id","show_img","anonymousId","_getUnreadMsg","loading","_sendMsg","type","content","_sendMsg2","_getOnlineTime"],"sources":["C:/Users/HP/Desktop/tk06/tiktok06/buyPhone/src/API/im.api.js"],"sourcesContent":["import request from \"@/request\";\r\n\r\n// 获取消息列表\r\nexport const _getMsg = (params) => {\r\n    let sessionUUID = localStorage.getItem(\"sessionUUID\");\r\n    if (!sessionUUID) {\r\n        sessionUUID = crypto.randomUUID();\r\n        localStorage.setItem(\"sessionUUID\", sessionUUID);\r\n    }\r\n    return request({\r\n        url: \"api/newOnlinechat!list.action\",\r\n        // loading: true,\r\n        method: \"GET\",\r\n        params: {\r\n            token: params.token,\r\n            message_id: params.message_id || '',  // 翻页用到\r\n            show_img: params.show_img || true,\r\n            anonymousId: sessionUUID,\r\n        }\r\n    })\r\n};\r\n\r\n// 未读消息\r\nexport const _getUnreadMsg = () => {\r\n    return request({\r\n        url: \"api/newOnlinechat!unread.action\",\r\n        loading: true,\r\n        method: \"GET\",\r\n    })\r\n};\r\n\r\n// 发送消息\r\nexport const _sendMsg = (type = 'text', content = '', token = '') => {\r\n    let sessionUUID = localStorage.getItem(\"sessionUUID\");\r\n    if (!sessionUUID) {\r\n        sessionUUID = crypto.randomUUID();\r\n        localStorage.setItem(\"sessionUUID\", sessionUUID);\r\n    }\r\n    return request({\r\n        url: \"api/newOnlinechat!send.action\",\r\n        // loading: true,\r\n        method: \"GET\",\r\n        params: {\r\n            type, // 消息类型， img / text\r\n            content,\r\n            token,\r\n            anonymousId: sessionUUID,\r\n        }\r\n    })\r\n};\r\n// 发送消息\r\nexport const _sendMsg2 = (type = 'text', content = '', token = '') => {\r\n    return request({\r\n        url: \"api/newOnlinechat!send.action\",\r\n        // loading: true,\r\n        method: \"GET\",\r\n        params: {\r\n            type, // 消息类型， img / text\r\n            content,\r\n            token\r\n        }\r\n    })\r\n};\r\n\r\n// 获取客服在线时间\r\nexport const _getOnlineTime = () => {\r\n    return request({\r\n        url: \"api/customerServiceTimeRange\",\r\n        // loading: true,\r\n        method: \"GET\",\r\n    })\r\n}\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,WAAW;;AAE/B;AACA,OAAO,MAAMC,OAAO,GAAIC,MAAM,IAAK;EAC/B,IAAIC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EACrD,IAAI,CAACF,WAAW,EAAE;IACdA,WAAW,GAAGG,MAAM,CAACC,UAAU,CAAC,CAAC;IACjCH,YAAY,CAACI,OAAO,CAAC,aAAa,EAAEL,WAAW,CAAC;EACpD;EACA,OAAOH,OAAO,CAAC;IACXS,GAAG,EAAE,+BAA+B;IACpC;IACAC,MAAM,EAAE,KAAK;IACbR,MAAM,EAAE;MACJS,KAAK,EAAET,MAAM,CAACS,KAAK;MACnBC,UAAU,EAAEV,MAAM,CAACU,UAAU,IAAI,EAAE;MAAG;MACtCC,QAAQ,EAAEX,MAAM,CAACW,QAAQ,IAAI,IAAI;MACjCC,WAAW,EAAEX;IACjB;EACJ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMY,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAOf,OAAO,CAAC;IACXS,GAAG,EAAE,iCAAiC;IACtCO,OAAO,EAAE,IAAI;IACbN,MAAM,EAAE;EACZ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMO,QAAQ,GAAGA,CAACC,IAAI,GAAG,MAAM,EAAEC,OAAO,GAAG,EAAE,EAAER,KAAK,GAAG,EAAE,KAAK;EACjE,IAAIR,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;EACrD,IAAI,CAACF,WAAW,EAAE;IACdA,WAAW,GAAGG,MAAM,CAACC,UAAU,CAAC,CAAC;IACjCH,YAAY,CAACI,OAAO,CAAC,aAAa,EAAEL,WAAW,CAAC;EACpD;EACA,OAAOH,OAAO,CAAC;IACXS,GAAG,EAAE,+BAA+B;IACpC;IACAC,MAAM,EAAE,KAAK;IACbR,MAAM,EAAE;MACJgB,IAAI;MAAE;MACNC,OAAO;MACPR,KAAK;MACLG,WAAW,EAAEX;IACjB;EACJ,CAAC,CAAC;AACN,CAAC;AACD;AACA,OAAO,MAAMiB,SAAS,GAAGA,CAACF,IAAI,GAAG,MAAM,EAAEC,OAAO,GAAG,EAAE,EAAER,KAAK,GAAG,EAAE,KAAK;EAClE,OAAOX,OAAO,CAAC;IACXS,GAAG,EAAE,+BAA+B;IACpC;IACAC,MAAM,EAAE,KAAK;IACbR,MAAM,EAAE;MACJgB,IAAI;MAAE;MACNC,OAAO;MACPR;IACJ;EACJ,CAAC,CAAC;AACN,CAAC;;AAED;AACA,OAAO,MAAMU,cAAc,GAAGA,CAAA,KAAM;EAChC,OAAOrB,OAAO,CAAC;IACXS,GAAG,EAAE,8BAA8B;IACnC;IACAC,MAAM,EAAE;EACZ,CAAC,CAAC;AACN,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}