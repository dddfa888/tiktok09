{"ast":null,"code":"import \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/rate/style\";\nimport _Rate from \"vant/es/rate\";\nimport \"vant/es/stepper/style\";\nimport _Stepper from \"vant/es/stepper\";\nimport \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/swipe-item/style\";\nimport _SwipeItem from \"vant/es/swipe-item\";\nimport \"vant/es/swipe/style\";\nimport _Swipe from \"vant/es/swipe\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"vant/es/tabs/style\";\nimport _Tabs from \"vant/es/tabs\";\nimport \"vant/es/tab/style\";\nimport _Tab from \"vant/es/tab\";\nimport \"vant/es/loading/style\";\nimport _Loading from \"vant/es/loading\";\nimport \"vant/es/empty/style\";\nimport _Empty from \"vant/es/empty\";\nimport \"vant/es/image-preview/style\";\nimport _ImagePreview from \"vant/es/image-preview\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.flat-map.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport { getSellerGoods, getEvaluationList, getSellerInfo, keepGoods, keepGoodsDel, apiEvaluationCountType, apiRecommendAndLike } from \"@/API/commodity\";\nimport { apiGetRecommendNew } from '@/API/home';\nimport { isLogin, priceFormat, getStorage, formatZoneDate, priceFormatInt } from \"@/utils/utis\";\nimport Footer from '@/components/Footer';\nexport default {\n  data() {\n    return {\n      formatZoneDate,\n      priceFormatInt,\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      mainColor: process.env.VUE_APP_MAIN_COLOR,\n      sort_index: '',\n      goods_info: {},\n      //商品信息\n      tab_nav_list: [this.$t(\"商品\"), this.$t(\"评价\"), this.$t(\"详情\")],\n      tab_index: 0,\n      swiperWaitTime: 5000,\n      imageList: [],\n      isShippingShow: false,\n      isShowTopBtn: false,\n      EvaluationInfo: [],\n      SellerInfo: {},\n      sellerGoodsId: \"\",\n      cartNum: 0,\n      //购物车数量\n      bugNum: 1,\n      //购买数量\n      evaluationNum: 0,\n      collectTitle: '',\n      cardShow: false,\n      isCard: false,\n      attributesIndex: [],\n      Token: \"\",\n      isWatch: true,\n      productPropertiesShow: false,\n      activeAttrs: [],\n      allSkus: [],\n      currentSkuTitle: [],\n      currentSkuId: \"-1\",\n      //\n      attrsIdSkuId: [],\n      defaultSku: [],\n      defaultAvatar: require(\"@/assets/image/default_avatar.png\"),\n      ImagePreview: _ImagePreview,\n      isLoading: false,\n      isEn: getStorage('lang') == 'en',\n      havePicture: '0',\n      mediumReview: '0',\n      negativeComment: '0',\n      positiveComments: '0',\n      recommendedGoods: [],\n      likeGoods: [],\n      currentCoverImg: '',\n      defaultImageList: [],\n      btnDisabled: true,\n      originalPrice: 0,\n      maxBuyNum: localStorage.getItem('maxBuyNum') || 500\n    };\n  },\n  computed: {\n    langIsAr() {\n      return localStorage.getItem('lang') == 'ar';\n    }\n  },\n  components: {\n    Footer,\n    [_ImagePreview.name]: _ImagePreview,\n    [_Empty.name]: _Empty,\n    [_Loading.name]: _Loading,\n    [_Tab.name]: _Tab,\n    [_Tabs.name]: _Tabs,\n    [_NavBar.name]: _NavBar,\n    [_Swipe.name]: _Swipe,\n    [_SwipeItem.name]: _SwipeItem,\n    [_Popup.name]: _Popup,\n    [_Stepper.name]: _Stepper,\n    [_Rate.name]: _Rate,\n    [_Icon.name]: _Icon,\n    [_Toast.name]: _Toast,\n    [_Dialog.Component.name]: _Dialog.Component\n  },\n  created() {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 50);\n    let lang = this.$route.query?.lang;\n    if (lang) {\n      switch (lang) {\n        case 'zh-CN':\n          lang = 'cn';\n          break;\n        case 'zh-TW':\n        case 'CN':\n          lang = 'tw';\n          break;\n        case 'en-US':\n          lang = 'en';\n          break;\n        default:\n          lang = 'en';\n          break;\n      }\n      sessionStorage.setItem('backPath', '/');\n      if (lang !== localStorage.getItem('lang')) {\n        localStorage.setItem('lang', lang);\n        location.reload();\n      }\n    }\n    this.sellerGoodsId = this.$route.query.sellerGoodsId;\n    if (this.sellerGoodsId) {\n      this.getSellerGoodsInfo();\n      this.getEvaluationList();\n    }\n    //购物车数量\n    if (this.$ls.get(\"productList\")) {\n      let list = this.$ls.get(\"productList\");\n      this.cartNum = list.reduce(function (prev, cur) {\n        return prev += cur.count;\n      }, 0);\n    }\n    //监听购物车商品\n    this.$ls.on(\"productList\", list => {\n      if (list.length > 0) {\n        this.cartNum = list.reduce(function (prev, cur) {\n          return prev += cur.count;\n        }, 0);\n      }\n    });\n    // 获取中评差评数量\n    apiEvaluationCountType({\n      goodId: this.$route.query.sellerGoodsId\n    }).then(res => {\n      const {\n        havePicture,\n        mediumReview,\n        negativeComment,\n        positiveComments\n      } = res;\n      this.havePicture = havePicture;\n      this.mediumReview = mediumReview;\n      this.negativeComment = negativeComment;\n      this.positiveComments = positiveComments;\n    });\n    this.Token = localStorage.getItem(\"item\");\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  methods: {\n    // 获取推荐商品 type： 1、猜你喜欢  2、推荐\n    async requestRecommendedProduct() {\n      const params = {\n        sellerId: this.SellerInfo?.id,\n        pageNum: 1\n      };\n      this.likeGoods = await apiRecommendAndLike({\n        ...params,\n        pageSize: 4,\n        type: 1\n      });\n      this.recommendedGoods = await apiRecommendAndLike({\n        ...params,\n        pageSize: 8,\n        type: 2\n      });\n    },\n    handleTabsChange(index) {\n      this.tab_index = index;\n      this.toTop(index);\n    },\n    handleToggle(info, index, dis, bool) {\n      if (dis) return;\n      const disAttr = new Set();\n      const allGood = this.goods_info?.canSelectAttributes?.goodAttrs;\n      const temparr = JSON.parse(JSON.stringify(this.activeAttrs));\n      if (allGood.length === this.activeAttrs.length) {\n        allGood.forEach((item, i) => {\n          if (i != index) {\n            item.attrValues.forEach((attr, j) => {\n              if (attr.attrValueId !== info.attrValueId) {\n                temparr[i] = attr.attrValueId;\n                if (!this.getSkusAndPrice(true, temparr)) {\n                  disAttr.add(attr.attrValueId);\n                  this.$set(this.activeAttrs, index, info.attrValueId);\n                }\n              }\n            });\n          }\n        });\n      }\n      this.allSkus.flatMap(item => item.attrs).filter(attr => attr.hidden && attr.attrValueId !== info.attrValueId).forEach(attr => disAttr.add(attr.attrValueId));\n      allGood.forEach(item => {\n        item.attrValues.forEach(attr => {\n          attr.disabled = disAttr.has(attr.attrValueId);\n        });\n      });\n      this.$set(this.activeAttrs, index, info.attrValueId);\n      this.getSkusAndPrice();\n      disAttr.clear();\n      this.$forceUpdate();\n      !bool && this.handleToggle(info, index, dis, true);\n    },\n    getSkusAndPrice(find, arr) {\n      let skuMap = {};\n      this.allSkus.forEach(item => {\n        const attrIds = item.attrs.map(attr => attr.attrValueId).join(',');\n        if (skuMap[attrIds]) return;\n        skuMap[attrIds] = {\n          title: item.attrs.map(attr => attr.attrName && attr.attrValueName ? `${attr.attrName}: ${attr.attrValueName}` : ''),\n          coverImg: item.coverImg,\n          discountPrice: item.discountPrice,\n          sellingPrice: item.sellingPrice,\n          skuId: item.skuId,\n          img: item?.img || this.defaultImageList,\n          hidden: item.hidden,\n          price: item.price\n        };\n      });\n      const attrIds = find ? arr.join(',') : this.activeAttrs.join(',');\n      if (skuMap[attrIds] && !find) {\n        this.currentSkuTitle = skuMap[attrIds].title;\n        this.goods_info.discountPrice = skuMap[attrIds].discountPrice || skuMap[attrIds].sellingPrice;\n        this.currentSkuId = skuMap[attrIds].skuId;\n        this.currentCoverImg = skuMap[attrIds].coverImg;\n        this.imageList = skuMap[attrIds].img;\n        this.btnDisabled = false;\n        this.originalPrice = skuMap[attrIds].discountPrice ? skuMap[attrIds].price : 0;\n      } else {\n        if (Object.keys(skuMap).length === 0) {\n          this.btnDisabled = false;\n        } else {\n          this.btnDisabled = true;\n        }\n        return skuMap[attrIds];\n      }\n    },\n    handleSubmit() {\n      this.getSkusAndPrice();\n      this.isCard ? this.addCart() : this.openPay();\n    },\n    handleScroll() {\n      this.isShowTopBtn = (document.documentElement.scrollTop || document.body.scrollTop) > 500;\n      if (!this.isWatch) return;\n      let EvaluationOffsetTop = this.$el.querySelector(\"#Evaluation\").offsetTop - 50;\n      let detailsOffsetTop = this.$el.querySelector(\"#details\").offsetTop - 50;\n      let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n      if (scrollTop <= EvaluationOffsetTop) {\n        this.tab_index = 0;\n      } else if (scrollTop >= EvaluationOffsetTop && scrollTop <= detailsOffsetTop) {\n        this.tab_index = 1;\n      } else if (scrollTop >= detailsOffsetTop) {\n        this.tab_index = 2;\n      }\n    },\n    priceFormat(num) {\n      return priceFormat(num);\n    },\n    //添加购物车\n    addCart() {\n      if (isLogin()) {\n        if (this.goods_info?.isShelf == 0) {\n          this.$notifyWarn(this.$t(\"该商品已下架\"));\n          return;\n        }\n        this.productPropertiesShow = this.cardShow = false;\n        let productList = [];\n        if (JSON.stringify(this.goods_info) == \"{}\") {\n          console.log(\"商品数据有误,无法添加\");\n          return;\n        }\n        //添加选择数量\n        this.goods_info.count = this.bugNum;\n        this.goods_info.skuId = this.currentSkuId;\n        this.goods_info.coverImg = this.currentCoverImg;\n        this.goods_info.tempId = new Date().getTime();\n        if (this.$ls.get(\"productList\")) {\n          productList = this.$ls.get(\"productList\") || [];\n          //验证是否已添加过\n          let ishave = true;\n          try {\n            productList.forEach(item => {\n              if (item.id == this.goods_info.id && item.skuId == this.goods_info.skuId) {\n                item.count += this.bugNum;\n                this.cartNum += this.bugNum;\n                // Toast(this.$t(\"购物车添加成功\"));\n                this.$notify(this.$t('购物车添加成功'), 'success');\n                // Toast(this.$t('购物车已存在此商品'))\n                ishave = false;\n                throw \"跳出添加\";\n              }\n            });\n          } catch (e) {\n            //购物数量添加,重置购物车\n            this.$ls.set(\"productList\", productList);\n            this.$ls.remove(\"cartList\");\n          }\n          //添加\n          if (ishave) {\n            if (this.goods_info.storeName == \"\") {\n              // return Toast(this.$t(\"购物车添加失败, 请返回重试\"));\n              return this.$notify(this.$t('购物车添加失败, 请返回重试'));\n            }\n            productList.push(this.goods_info);\n            this.$ls.set(\"productList\", productList);\n            this.cartNum = productList.reduce(function (prev, cur) {\n              return prev += cur.count;\n            }, 0);\n            // Toast(this.$t(\"购物车添加成功\"));\n            this.$notify(this.$t('购物车添加成功'), 'success');\n            this.$ls.remove(\"cartList\");\n          }\n        } else {\n          if (this.goods_info.storeName == \"\") {\n            return this.$notify(this.$t('购物车添加失败, 请返回重试'));\n          }\n          productList.push(this.goods_info);\n          this.$ls.set(\"productList\", productList);\n          this.cartNum = productList.reduce(function (prev, cur) {\n            return prev += cur.count;\n          }, 0);\n          // Toast(this.$t(\"购物车添加成功\"));\n          this.$notify(this.$t('购物车添加成功'), 'success');\n          this.$ls.remove(\"cartList\");\n        }\n        // console.log(this.$ls.get('productList'))\n        // this.$ls.clear()\n      } else {\n        this.productPropertiesShow = this.cardShow = false;\n        //   Toast(this.$t(\"请先登录\"));\n        // Dialog.confirm({\n        //     title: this.$t(\"您还未登录\"),\n        //     message: this.$t(\"是否跳转到登录页面\"),\n        //     confirmButtonText: this.$t(\"确认\"),\n        //     cancelButtonText: this.$t(\"取消\"),\n        // }).then(() => {\n        //     this.$router.push(\"/login\");\n        // });\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        this.$router.push(\"/login\");\n      }\n    },\n    //获取商品详情\n    getSellerGoodsInfo(sellerGoodsId) {\n      this.collectTitle = this.$t('收藏');\n      this.$toast.loading();\n      // 推荐商品/猜你喜欢\n      if (sellerGoodsId) {\n        this.activeAttrs = [];\n        this.allSkus = [];\n        this.goods_info = {};\n        this.imageList = this.defaultImageList = [];\n        scrollTo({\n          top: 0,\n          left: 0,\n          behavior: 'smooth'\n        });\n      }\n      let dataJson = {\n        sellerGoodsId: sellerGoodsId || this.sellerGoodsId,\n        skuId: this.$route.query?.skuId || null\n      };\n      getSellerGoods(dataJson).then(data => {\n        this.$nextTick(() => {\n          this.goods_info = data;\n          this.getSkusAndPrice();\n        });\n        if (data.canSelectAttributes?.goodAttrs?.length) {\n          data.canSelectAttributes.goodAttrs.forEach(item => {\n            this.activeAttrs.push(item.attrValues[0].attrValueId);\n            // if (item.attrValues[0].icon) {\n            //     this.imageList = item.attrValues.map(sub => sub.iconImg)\n            // }\n          });\n          this.allSkus = data.canSelectAttributes.skus;\n          const ids = data.canSelectAttributes.goodAttrs.map(item => item.attrId);\n          this.allSkus.forEach(item => {\n            item.attrs = item.attrs.sort((star, next) => ids.indexOf(star.attrId) - ids.indexOf(next.attrId));\n          });\n        }\n        for (let i = 0; i < 10; i++) {\n          if (data[`imgUrl${i + 1}`]) {\n            this.defaultImageList.push(data[`imgUrl${i + 1}`]);\n          }\n        }\n        if (!this.imageList.length) {\n          this.imageList = this.defaultImageList;\n        }\n        this.getSellerInfo(data.seller.id);\n        if (this.goods_info.isKeep == 1) {\n          this.collectTitle = this.$t(\"已收藏\");\n        } else {\n          this.collectTitle = this.$t(\"收藏\");\n        }\n        if (!data.canSelectAttributes?.goodAttrs) {\n          if (data.discountPrice) {\n            this.originalPrice = data.sellingPrice;\n          }\n        }\n        this.$toast.clear();\n      });\n    },\n    //获取评论\n    getEvaluationList() {\n      let dataJson = {\n        sellerGoodsId: this.sellerGoodsId,\n        pageNum: 1,\n        pageSize: 1,\n        evaluationType: this.sort_index\n      };\n      getEvaluationList(dataJson).then(res => {\n        if (res.pageList.length > 0) {\n          this.EvaluationInfo = res.pageList.slice(0, 5);\n          this.EvaluationInfo = this.EvaluationInfo.map(item => {\n            const images = [item.imgUrl1, item.imgUrl2, item.imgUrl3, item.imgUrl4, item.imgUrl5, item.imgUrl6, item.imgUrl7, item.imgUrl8, item.imgUrl9];\n            return {\n              ...item,\n              avatar: item.avatar || Math.floor(Math.random() * 20),\n              images: images.filter(url => !!url)\n            };\n          });\n          this.evaluationNum = res.evaluationNum;\n        } else {\n          this.EvaluationInfo = [];\n        }\n      });\n    },\n    addKeepGoods() {\n      if (!isLogin()) {\n        //   Toast(this.$t(\"请先登录\"));\n        // Dialog.confirm({\n        //     title: this.$t(\"您还未登录\"),\n        //     message: this.$t(\"是否跳转到登录页面\"),\n        //     confirmButtonText: this.$t(\"确认\"),\n        //     cancelButtonText: this.$t(\"取消\"),\n        // }).then(() => {\n        //     this.$router.push(\"/login\");\n        // });\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        this.$router.push(\"/login\");\n        return;\n      }\n      if (this.goods_info.isKeep == 1) {\n        let dataJson = {\n          sellerGoodsId: this.sellerGoodsId\n        };\n        keepGoodsDel(dataJson).then(() => {\n          this.collectTitle = this.$t(\"收藏\");\n          this.goods_info.isKeep = 0;\n          _Toast(this.$t(\"取消成功\"));\n        });\n      } else {\n        let dataJson = {\n          sellerGoodsId: this.sellerGoodsId\n        };\n        keepGoods(dataJson).then(() => {\n          this.collectTitle = this.$t(\"已收藏\");\n          this.goods_info.isKeep = 1;\n          _Toast(this.$t(\"收藏成功\"));\n        });\n      }\n    },\n    //跳转评论页\n    jumpAllReviews() {\n      this.$router.push({\n        path: \"/allReviews\",\n        query: {\n          sellerGoodsId: this.sellerGoodsId\n        }\n      });\n    },\n    // 商家详情\n    getSellerInfo(id) {\n      let dataJson = {\n        sellerId: id\n      };\n      getSellerInfo(dataJson).then(res => {\n        this.SellerInfo = res;\n        //详情里添加商铺名称\n        this.goods_info.storeName = res.name;\n        this.isLoading = false;\n        isLogin() && this.requestRecommendedProduct();\n      }).catch(err => {\n        console.log(`err ::->`, err);\n        this.isLoading = false;\n      });\n    },\n    checkActive(index) {\n      return index === this.current; // current为监听的轮播index\n    },\n    //监听product轮播index\n    handleChangeSwiper(index) {\n      this.current = index;\n    },\n    onClickLeft() {\n      const backPath = sessionStorage.getItem(\"backPath\");\n      if (backPath) {\n        this.$router.replace('/');\n        sessionStorage.removeItem(\"backPath\");\n      } else {\n        this.$router.go(-1);\n      }\n    },\n    toTop(index) {\n      this.isWatch = false;\n      setTimeout(() => this.isWatch = true, 1000);\n      this.tab_index = index;\n      if (index === 0) {\n        this.$el.querySelector(\"#product\").scrollIntoView({\n          block: \"start\",\n          behavior: \"smooth\"\n        });\n      } else if (index === 1) {\n        this.$el.querySelector(\"#Evaluation\").scrollIntoView({\n          block: \"start\",\n          behavior: \"smooth\"\n        });\n      } else {\n        this.$el.querySelector(\"#details\").scrollIntoView({\n          block: \"start\",\n          behavior: \"smooth\"\n        });\n      }\n    },\n    //跳转商铺\n    jumpShop() {\n      sessionStorage.removeItem(\"shopState\");\n      this.$router.push(`/shop?sellerId=${this.SellerInfo.id}&index=0`);\n    },\n    //跳转下单\n    openPay() {\n      if (!isLogin()) {\n        this.productPropertiesShow = false;\n        // Dialog.confirm({\n        //     title: this.$t(\"您还未登录\"),\n        //     message: this.$t(\"是否跳转到登录页面\"),\n        //     confirmButtonText: this.$t(\"确认\"),\n        //     cancelButtonText: this.$t(\"取消\"),\n        // }).then(() => {\n        //     this.$router.push(\"/login\");\n        // });\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        this.$router.push(\"/login\");\n        return;\n      }\n      if (this.goods_info?.isShelf == 0) {\n        this.$notifyWarn(this.$t(\"该商品已下架\"));\n        return;\n      }\n      localStorage.setItem(\"sellerId\", this.goods_info.sellerId);\n      localStorage.setItem(\"storeName\", this.goods_info.storeName);\n      this.goods_info.tempId = new Date().getTime();\n      //type:1直接购买,2购物车购买\n      this.$router.push({\n        path: \"/orderComnfirmation\",\n        query: {\n          skuId: this.currentSkuId,\n          type: 1,\n          goodsInfo: JSON.stringify(this.goods_info),\n          bugNum: this.bugNum,\n          isCart: 0,\n          currentCoverImg: this.currentCoverImg\n        }\n      });\n    },\n    // 打开客服\n    openCustomer() {\n      localStorage.setItem(\"sellerId\", this.goods_info.sellerId);\n      localStorage.setItem(\"storeName\", this.goods_info.storeName);\n      if (isLogin()) {\n        // Toast(this.$t(\"请先登录\"));\n        sessionStorage.setItem('shopName', this.SellerInfo.name);\n        this.$router.push({\n          path: `/customerServiceIndex?goodsId=${this.goods_info.id}`\n        });\n      } else {\n        //   Toast(this.$t(\"请先登录\"));\n        // Dialog.confirm({\n        //     title: this.$t(\"您还未登录\"),\n        //     message: this.$t(\"是否跳转到登录页面\"),\n        //     confirmButtonText: this.$t(\"确认\"),\n        //     cancelButtonText: this.$t(\"取消\"),\n        // }).then(() => {\n        //     this.$router.push(\"/login\");\n        // });\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        this.$router.push(\"/login\");\n      }\n    }\n  },\n  watch: {\n    bugNum(val) {\n      this.cartNum = val;\n    },\n    sort_index() {\n      this.getEvaluationList();\n    },\n    productPropertiesShow(val) {\n      val && (this.swiperWaitTime = 5000);\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  destroyed() {\n    //撤销监听\n    this.$ls.off(\"productList\");\n  }\n};","map":{"version":3,"names":["getSellerGoods","getEvaluationList","getSellerInfo","keepGoods","keepGoodsDel","apiEvaluationCountType","apiRecommendAndLike","apiGetRecommendNew","isLogin","priceFormat","getStorage","formatZoneDate","priceFormatInt","Footer","data","itemName","process","env","VUE_APP_ITEM_NAME","mainColor","VUE_APP_MAIN_COLOR","sort_index","goods_info","tab_nav_list","$t","tab_index","swiperWaitTime","imageList","isShippingShow","isShowTopBtn","EvaluationInfo","SellerInfo","sellerGoodsId","cartNum","bugNum","evaluationNum","collectTitle","cardShow","isCard","attributesIndex","Token","isWatch","productPropertiesShow","activeAttrs","allSkus","currentSkuTitle","currentSkuId","attrsIdSkuId","defaultSku","defaultAvatar","require","ImagePreview","_ImagePreview","isLoading","isEn","havePicture","mediumReview","negativeComment","positiveComments","recommendedGoods","likeGoods","currentCoverImg","defaultImageList","btnDisabled","originalPrice","maxBuyNum","localStorage","getItem","computed","langIsAr","components","name","_Empty","_Loading","_Tab","_Tabs","_NavBar","_Swipe","_SwipeItem","_Popup","_Stepper","_Rate","_Icon","_Toast","_Dialog","Component","created","setTimeout","window","scrollTo","lang","$route","query","sessionStorage","setItem","location","reload","getSellerGoodsInfo","$ls","get","list","reduce","prev","cur","count","on","length","goodId","then","res","mounted","addEventListener","handleScroll","methods","requestRecommendedProduct","params","sellerId","id","pageNum","pageSize","type","handleTabsChange","index","toTop","handleToggle","info","dis","bool","disAttr","Set","allGood","canSelectAttributes","goodAttrs","temparr","JSON","parse","stringify","forEach","item","i","attrValues","attr","j","attrValueId","getSkusAndPrice","add","$set","flatMap","attrs","filter","hidden","disabled","has","clear","$forceUpdate","find","arr","skuMap","attrIds","map","join","title","attrName","attrValueName","coverImg","discountPrice","sellingPrice","skuId","img","price","Object","keys","handleSubmit","addCart","openPay","document","documentElement","scrollTop","body","EvaluationOffsetTop","$el","querySelector","offsetTop","detailsOffsetTop","pageYOffset","num","isShelf","$notifyWarn","productList","console","log","tempId","Date","getTime","ishave","$notify","e","set","remove","storeName","push","$router","$toast","loading","top","left","behavior","dataJson","$nextTick","skus","ids","attrId","sort","star","next","indexOf","seller","isKeep","evaluationType","pageList","slice","images","imgUrl1","imgUrl2","imgUrl3","imgUrl4","imgUrl5","imgUrl6","imgUrl7","imgUrl8","imgUrl9","avatar","Math","floor","random","url","addKeepGoods","jumpAllReviews","path","catch","err","checkActive","current","handleChangeSwiper","onClickLeft","backPath","replace","removeItem","go","scrollIntoView","block","jumpShop","goodsInfo","isCart","openCustomer","watch","val","beforeDestroy","removeEventListener","destroyed","off"],"sources":["src/page/CommodityDetails/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"CommodityDetails\">\r\n        <van-nav-bar safe-area-inset-top fixed :title=\"$t('详情')\" left-arrow @click-left=\"onClickLeft\">\r\n            <div slot=\"title\" class=\"tab-wrap\">\r\n                <!-- <div class=\"tab-item\" @click=\"toTop(index)\" :class=\"[tab_index === index ? 'active' : '']\"\r\n                    v-for=\"(item, index) in tab_nav_list\" :key=\"index\">\r\n                    {{ item }}\r\n                </div> -->\r\n                <van-tabs v-model=\"tab_index\" @change=\"handleTabsChange\" :line-height=\"langIsAr ? 0 : '3px'\">\r\n                    <van-tab :title=\"item\" v-for=\"(item, index) in tab_nav_list\" :key=\"index\" />\r\n                </van-tabs>\r\n            </div>\r\n        </van-nav-bar>\r\n        <div style=\"width: 100%; height: 46px\" id=\"product\"></div>\r\n        <div class=\"banner-product\">\r\n            <van-swipe @change=\"handleChangeSwiper\" :autoplay=\"swiperWaitTime\" ref=\"swiperRef\" style=\"direction: ltr;\">\r\n                <van-swipe-item class=\"swipe-item\" v-for=\"(item, index) in imageList\" :key=\"index\">\r\n                    <img :src=\"item\" @click=\"ImagePreview({ images: imageList, startPosition: index })\" class=\"img\" />\r\n                </van-swipe-item>\r\n                <template #indicator>\r\n                    <ul class=\"indicators indicator\">\r\n                        <li v-for=\"(item, index) in imageList\" :key=\"index\" :class=\"{ active: checkActive(index) }\">\r\n                        </li>\r\n                    </ul>\r\n                </template>\r\n            </van-swipe>\r\n        </div>\r\n        <div class=\"product-info-wrap\">\r\n            <div class=\"product-name\">\r\n                {{ goods_info.name }}\r\n            </div>\r\n            <div class=\"price-box\">\r\n                <div class=\"product-price\">\r\n                    <span class=\"title\">{{ $t(\"单价\") }}</span>\r\n                    <span class=\"money\">${{\r\n                        priceFormat(goods_info.discountPrice)\r\n                        ? priceFormat(goods_info.discountPrice)\r\n                        : priceFormat(goods_info.sellingPrice)\r\n                    }}</span>\r\n                    <!-- <span class=\"text\">{{$t('价格')}}&nbsp;$56.12</span> -->\r\n                </div>\r\n                <div class=\"product-sellingPrice\" v-if=\"originalPrice\">\r\n                    <span class=\"title\">{{ $t(\"原价\") }}</span>\r\n                    <span class=\"money\">${{ priceFormat(originalPrice) }}</span>\r\n                </div>\r\n                <div class=\"product-sold\">\r\n                    {{ $t(\"销量\") }} {{ priceFormatInt(goods_info.soldNum) }}\r\n                </div>\r\n            </div>\r\n            <div class=\"sku_box\" v-if=\"goods_info?.canSelectAttributes?.goodAttrs.length\">\r\n                <div class=\"attributes_box\">\r\n                    <div class=\"attributes\" v-for=\"(item, i) of goods_info?.canSelectAttributes?.goodAttrs\" :key=\"i\">\r\n                        <div class=\"p_title\" v-if=\"item?.attrName\">{{ currentSkuTitle[i] }}</div>\r\n                        <ul v-if=\"item?.attrName\">\r\n                            <li :class=\"[sub.attrValueId == activeAttrs[i] && 'active', sub?.icon && 'img_box', sub.disabled && 'disabled']\"\r\n                                @click=\"handleToggle(sub, i, sub.disabled)\" v-for=\"(sub, j) of item.attrValues\" :key=\"j\">\r\n                                <img v-if=\"sub?.icon\" :src=\"sub.iconImg\" alt=\"\">\r\n                                <span v-else>{{ sub.attrValueName }}</span>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- <div class=\"product-norm\">\r\n                \r\n            </div> -->\r\n            <div class=\"product-line-item\">\r\n                <div class=\"left\">{{ $t(\"发货\") }}</div>\r\n                <div class=\"right\">\r\n                    {{\r\n                        $t(\r\n                            \"商品下单后，24小时内发货。如下单存在物流管控，订单可能被延时发货，请留意订单物流信息或联系客服\"\r\n                        )\r\n                    }}\r\n                </div>\r\n            </div>\r\n            <div class=\"product-line-item\">\r\n                <div class=\"left\">{{ $t(\"运费\") }}</div>\r\n                <div class=\"right\" @click=\"isShippingShow = true\">\r\n                    {{\r\n                        goods_info.freightAmount == 0\r\n                        ? $t(\"免运费\")\r\n                        : `$${goods_info.freightAmount ? priceFormat(goods_info.freightAmount) : \"0.00\"}`\r\n                    }}\r\n                    <div class=\"right-icon image_reversed\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"product-line-item\">\r\n                <div class=\"left\">{{ $t(\"税费\") }}</div>\r\n                <div class=\"right\" @click=\"isShippingShow = true\">\r\n                    ${{ goods_info.goodsTax ? priceFormat(goods_info.goodsTax) : \"0.00\" }}\r\n                </div>\r\n            </div>\r\n            <div id=\"Evaluation\"></div>\r\n            <div class=\"product-line-item\">\r\n                <div class=\"left\">{{ $t(\"已选数量\") }}</div>\r\n                <div class=\"right\">\r\n                    <van-stepper :disable-input=\"true\" :max=\"maxBuyNum\" integer v-model=\"bugNum\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"Evaluation\">\r\n            <!-- <router-link to=\"/allReviews\"> -->\r\n            <div class=\"nav-item\" @click=\"jumpAllReviews\">\r\n                <div class=\"left\" v-if=\"itemName != 'Inchoi'\">{{ $t(\"用户评价\") }}({{ evaluationNum > 99 ? '99+' : evaluationNum\r\n                }})</div>\r\n                <div class=\"left\" v-else>{{ $t(\"用户评价\") }}</div>\r\n                <div class=\"right\">\r\n                    <div class=\"right-icon image_reversed\"></div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sort\">\r\n                <span :class=\"[isEn && 'en_span', sort_index === -2 && 'active']\" @click=\"sort_index = -2\">{{\r\n                    $t('有图')\r\n                }}\r\n                    ({{ havePicture > 99 ? '99+' : havePicture }})\r\n                </span>\r\n                <span :class=\"[isEn && 'en_span', sort_index === 1 && 'active']\" @click=\"sort_index = 1\">{{ $t('好评') }}\r\n                    ({{ positiveComments > 99 ? '99+' : positiveComments }})\r\n                </span>\r\n                <span :class=\"[isEn && 'en_span', sort_index === 2 && 'active']\" @click=\"sort_index = 2\">{{ $t('中评') }}\r\n                    ({{ mediumReview > 99 ? '99+' : mediumReview }})\r\n                </span>\r\n                <span :class=\"[isEn && 'en_span', sort_index === 3 && 'active']\" @click=\"sort_index = 3\">{{ $t('差评') }}\r\n                    ({{ negativeComment > 99 ? '99+' : negativeComment }})\r\n                </span>\r\n            </div>\r\n            <div class=\"reviews-list\">\r\n                <div v-for=\"(item, index) in EvaluationInfo\" :key=\"index\" class=\"sheet-item\">\r\n                    <div class=\"top\">\r\n                        <img :src=\"require(`@/assets/image/avatar/${item.avatar}.png`)\" class=\"img\" />\r\n                        <div class=\"name-title\">\r\n                            {{ item.userName }}\r\n                            <!-- {{\r\n                                item.userName.indexOf('@') > -1 ?\r\n                                item.userName.replace(/(.{2}).*(@.*)/, \"$1***$2\") :\r\n                                item.userName.indexOf(')') > -1 ?\r\n                                item.userName.replace(/(\\(\\+\\d{2}\\))(\\d{2})(.*)(\\d{4})/, \"$1$2***$4\") :\r\n                                item.userName.replace(/(.{2}).*(.{2}@.*)/, \"$1***$2\")\r\n                            }} -->\r\n                        </div>\r\n                        <!-- <div style=\"flex-grow: 1\">\r\n                            \r\n                            <p class=\"date\">\r\n                                {{ item.createTimeStr ? item.createTimeStr : item.createTime }}\r\n                            </p>\r\n                        </div> -->\r\n                    </div>\r\n                    <div class=\"mid\">\r\n                        <van-rate class=\"rate-wrap\" v-model=\"item.rating\" allow-half :size=\"15\" :color=\"mainColor\"\r\n                            void-icon=\"star\" void-color=\"#eee\" readonly />\r\n                        <span>{{ $t('订单已完成') }}</span>\r\n                        <!-- <p class=\"sku\" v-if=\"item.attributes?.[0]?.attrName\">\r\n                            <span v-for=\"(sku, index) of item.attributes\" :key=\"sku.sort\">\r\n                                <span v-if=\"item.attributes\">{{ sku.attrName }}：{{ sku.attrValue }}</span>\r\n                            </span>\r\n                        </p> -->\r\n                    </div>\r\n                    <p class=\"reviews\">{{ item.content || $t('用户未发表评论') }}</p>\r\n                    <div class=\"comment_image\">\r\n                        <div v-for=\"(url, i) of item.images\" :key=\"i\">\r\n                            <img @click=\"ImagePreview({ images: item.images, startPosition: i })\" v-if=\"url\" :src=\"url\"\r\n                                alt=\"\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"btm_date\">\r\n                        <span v-if=\"item?.countryName && !['Inchoi', 'GreenMall'].includes(itemName)\">{{ item.countryName }}\r\n                            >> </span>\r\n                        <span>\r\n                            <!-- {{ item.createTimeStr ? item.createTimeStr : formatZoneDate(item.createTime) }} -->\r\n                            {{\r\n                                item.evaluationTime ? formatZoneDate(item.evaluationTime) : formatZoneDate(item.createTime)\r\n                            }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <van-empty v-if=\"EvaluationInfo.length == 0\" :description=\"$t('暂无数据')\" />\r\n            </div>\r\n            <!-- </router-link> -->\r\n            <!-- <div class=\"user-info\" v-if=\"EvaluationInfo.name\">\r\n        <div class=\"avatar\">\r\n          <img :src=\"EvaluationInfo.avatar\" />\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"name\">\r\n            <div class=\"name-title\">\r\n              {{\r\n                EvaluationInfo.userName\r\n                  ? EvaluationInfo.userName.substring(0, 2)\r\n                  : \"\"\r\n              }}*****\r\n            </div>\r\n            <van-rate\r\n              class=\"rate-wrap\"\r\n              readonly\r\n              v-model=\"EvaluationInfo.rating\"\r\n              :size=\"15\"\r\n              :color=\"mainColor\"\r\n              void-icon=\"star\"\r\n              void-color=\"#eee\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"datetime\">{{ EvaluationInfo.createTime }}</div>\r\n        </div>\r\n      </div> -->\r\n            <div class=\"centent\">\r\n                {{ EvaluationInfo.content }}\r\n            </div>\r\n        </div>\r\n        <div class=\"details-wrap\">\r\n            <div class=\"shop-wrap\">\r\n                <div class=\"shop-info\">\r\n                    <div class=\"left\">\r\n                        <div class=\"shop-logo\">\r\n                            <img :src=\"SellerInfo.avatar\" />\r\n                        </div>\r\n                        <div class=\"info\">\r\n                            <div class=\"name\">\r\n                                {{\r\n                                    SellerInfo.name?.length > 27\r\n                                    ? SellerInfo.name.slice(0, 27) + \"...\"\r\n                                    : SellerInfo.name\r\n                                }}\r\n                            </div>\r\n                            <div class=\"title\">\r\n                                {{ $t(\"好评率\") }}: {{ Math.floor(SellerInfo.highOpinion * 100) || 100 }}%\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"right\" @click=\"jumpShop\">\r\n                        {{ $t(\"访问商店\") }}\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"shop-bottom\">\r\n                    <div class=\"item\">\r\n                        <div class=\"text\">\r\n                            {{ goods_info.seller ? goods_info.seller.sellerGoodsNum : 100 }}\r\n                        </div>\r\n                        <div class=\"title\">{{ $t(\"所有产品\") }}</div>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <div class=\"text\">\r\n                            {{ (+goods_info.seller?.fake || 0) + (+goods_info.seller?.focusNum || 0) }}\r\n                        </div>\r\n                        <div class=\"title\">{{ $t(\"关注\") }}</div>\r\n                    </div>\r\n                    <div class=\"item\">\r\n                        <div class=\"text\">\r\n                            {{ (+goods_info.seller?.soldNum || 0) + (+goods_info.seller?.fakeSoldNum || 0) }}\r\n                        </div>\r\n                        <div class=\"title\">{{ $t(\"销售量\") }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- 推荐商品 -->\r\n            <div class=\"recommended_product\" v-if=\"recommendedGoods?.length\">\r\n                <div class=\"rd_title\">{{ $t('推荐商品') }}</div>\r\n                <ul>\r\n                    <li v-for=\"(item, index) of recommendedGoods\" :key=\"index\" @click=\"getSellerGoodsInfo(item.id)\">\r\n                        <div class=\"img\">\r\n                            <img :src=\"item.imgUrl1 || $defaultGoodsImage\" alt=\"\">\r\n                        </div>\r\n                        <div class=\"rd_right\">\r\n                            <span class=\"nowrap2\">{{ $textOmit(item.name, 26) }}</span>\r\n                            <span>${{ priceFormat(item?.discountPrice || item.sellingPrice) }}</span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"shop-description-title\" id=\"details\">\r\n                {{ $t(\"产品描述\") }}\r\n            </div>\r\n            <div class=\"shop-description-text\" @click=\"isshow = true\" v-html=\"goods_info.des\"></div>\r\n            <div class=\"details-centent\" v-html=\"goods_info.imgDes\"></div>\r\n            <van-empty v-if=\"!goods_info.des && !goods_info.imgDes\" :description=\"$t('暂无数据')\" />\r\n            <!-- 猜你喜欢 -->\r\n            <div class=\"may_like\" v-if=\"likeGoods?.length\">\r\n                <div class=\"ml_title\">{{ $t('猜你喜欢') }}</div>\r\n                <div class=\"ml_list\">\r\n                    <div v-for=\"(item, index) in likeGoods\" class=\"list-item commodity\" @click=\"getSellerGoodsInfo(item.id)\"\r\n                        :key=\"index\">\r\n                        <div class=\"commodity-img\">\r\n                            <img :src=\"item.imgUrl1 || $defaultGoodsImage\" alt=\"\" />\r\n                        </div>\r\n                        <div class=\"money padd-15\">\r\n                            ${{ priceFormat(item.discountPrice || item.sellingPrice) }}\r\n                        </div>\r\n                        <div class=\"text padd-15\">\r\n                            {{ $t(\"销量\") }} {{ priceFormatInt(item.soldNum) }}\r\n                        </div>\r\n                        <!-- <div class=\"text padd-15\">{{$t('浏览量')}} 8464</div> -->\r\n                        <div class=\"titlename padd-15 nowrap2\">{{ $textOmit(item.name) }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"buy-bottom-fiexd\">\r\n            <div class=\"fiexd-left\">\r\n                <div class=\"item\">\r\n                    <!--  @click=\"addKeepGoods\" -->\r\n                    <div class=\"icon\" :class=\"[\r\n                        goods_info.isKeep == 1 ? 'collect-check-icon' : 'collect-icon',\r\n                    ]\"></div>\r\n                    <div class=\"text\">{{ $t(collectTitle) }}</div>\r\n                </div>\r\n                <div class=\"item\" >\r\n                    <!-- @click=\"openCustomer()\" -->\r\n                    <div class=\"icon kefu-icon\"></div>\r\n                    <div class=\"text\">{{ itemName == 'FamilyMart' ? $t(\"联系商家\") : $t(\"聊天\") }}</div>\r\n                </div>\r\n                <!-- <div class=\"item\" @click=\"cardShow = true\"> -->\r\n                <div class=\"item\">\r\n                    <!-- @click=\"isCard = productPropertiesShow = true\" -->\r\n                    <div class=\"icon gouwuc-icon\">\r\n                        <div class=\"tips\" v-if=\"$ls.get('productList')\">\r\n                            {{ $ls.get('productList').length }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"text\">{{ $t(\"购物车\") }}</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"fiexd-right\">\r\n                <!-- @click=\"productPropertiesShow = true; isCard = false;\" -->\r\n                <p>\r\n                    ${{ priceFormat($operation(goods_info.discountPrice, bugNum, 'times')) ||\r\n                        priceFormat($operation(goods_info.sellingPrice, bugNum, 'times')) }}\r\n                </p>\r\n                <p>{{ $t(\"立即购买\") }}</p>\r\n            </div>\r\n        </div>\r\n        <van-popup closeable v-model=\"isShippingShow\" position=\"bottom\" :style=\"{ height: '35%' }\">\r\n            <div class=\"pop-header-title\">\r\n                {{ $t(\"运费说明\") }}\r\n            </div>\r\n            <div class=\"centent-wrap\">\r\n                <p>\r\n                    {{ $t(\"1、跨境商品运费构成：运费=派送费+长途运费+送货费;\") }}\r\n                </p>\r\n                <p>\r\n                    {{ $t(\"2、如不满足包邮条件，按实际收取运费产品\") }}\r\n                </p>\r\n                <p>\r\n                    {{ $t(\"3、最终解释权归平台所有；\") }}\r\n                </p>\r\n            </div>\r\n        </van-popup>\r\n        <transition name=\"fade\">\r\n            <!-- <img class=\"dingbu\" v-show=\" isShowTopBtn \" @click=\" toTop(0) \" src=\"@/assets/image/commodity/dingbu.png\" /> -->\r\n            <van-icon v-show=\"isShowTopBtn\" @click=\"toTop(0)\" class=\"to_top\" class-prefix=\"icon\" name=\"huidaodingbu\" />\r\n        </transition>\r\n        <van-popup v-model=\"cardShow\" round position=\"bottom\" :style=\"{ height: '40%' }\" closeable>\r\n            <div class=\"title\">\r\n                {{ $t(\"添加购物车\") }}\r\n            </div>\r\n            <div class=\"card-wrap\">\r\n                <div class=\"left\">\r\n                    <div class=\"img\">\r\n                        <img :src=\"imageList[0]\" />\r\n                    </div>\r\n                    <div class=\"goods_info\">\r\n                        <div class=\"name\">\r\n                            {{\r\n                                goods_info.name?.length > 27\r\n                                ? goods_info.name.slice(0, 27) + \"...\"\r\n                                : goods_info.name\r\n                            }}\r\n                        </div>\r\n\r\n                        <div class=\"money\">\r\n                            ${{ priceFormat(goods_info.discountPrice) || priceFormat(goods_info.sellingPrice) }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <van-stepper :disable-input=\"true\" :max=\"maxBuyNum\" integer v-model=\"bugNum\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"card-but\">\r\n                <van-button type=\"primary\" class=\"but\" block @click=\"addCart\">{{\r\n                    $t(\"确定\")\r\n                }}</van-button>\r\n            </div>\r\n        </van-popup>\r\n        <!-- 产品属性 -->\r\n        <van-popup v-model=\"productPropertiesShow\" position=\"bottom\" closeable round class=\"product_properties\">\r\n            <div class=\"cart_title\" v-if=\"isCard\">\r\n                {{ $t(\"添加购物车\") }}\r\n            </div>\r\n            <div class=\"p_top\">\r\n                <div class=\"img\">\r\n                    <img :src=\"currentCoverImg || goods_info.imgUrl1 || $defaultGoodsImage\"\r\n                        @click=\" ImagePreview([currentCoverImg || goods_info.imgUrl1])\" alt=\"\" />\r\n                </div>\r\n                <div class=\"t_right\">\r\n                    <span class=\"price\">${{\r\n                        priceFormat($operation(goods_info.discountPrice, bugNum, 'times')) ||\r\n                        priceFormat($operation(goods_info.sellingPrice, bugNum, 'times'))\r\n                    }}</span>\r\n\r\n                    <div class=\"num_box\">\r\n                        <div>\r\n                            <!-- <p></p> -->\r\n                            {{ $t(\"已选\") }}:\r\n                            <span v-for=\" item  of  currentSkuTitle \" :key=\"item\">\r\n                                {{ item }}\r\n                            </span>\r\n                        </div>\r\n                        <span>{{ $t(\"数量\") }}: ×{{ bugNum }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"attributes_box\">\r\n                <div class=\"attributes\" v-for=\"( item, i ) of  goods_info?.canSelectAttributes?.goodAttrs \" :key=\"i\">\r\n                    <div class=\"p_title\" v-if=\"item?.attrName\">{{ currentSkuTitle[i] }}</div>\r\n                    <ul v-if=\"item?.attrName\">\r\n                        <li :class=\"[sub.attrValueId == activeAttrs[i] && 'active', sub?.icon && 'img_box', sub.disabled && 'disabled']\"\r\n                            @click=\" handleToggle(sub, i, sub.disabled)\" v-for=\"( sub, j ) of  item.attrValues \" :key=\"j\">\r\n                            <img v-if=\"sub?.icon\" :src=\"sub.iconImg\" alt=\"\">\r\n                            <span v-else>{{ sub.attrValueName }}</span>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"count_box\">\r\n                    <span>{{ $t(\"数量\") }}:</span>\r\n                    <van-stepper :disable-input=\"true\" :max=\"maxBuyNum\" integer v-model=\"bugNum\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"sure\">\r\n                <van-button :disabled=\"btnDisabled\" type=\"primary\" class=\"btn\" block @click=\"handleSubmit\">{{\r\n                    $t(\"确定\")\r\n                }}</van-button>\r\n            </div>\r\n        </van-popup>\r\n        <Footer />\r\n        <div class=\"loading_box\" v-if=\"isLoading\">\r\n            <van-loading text-color=\"#0094ff\" />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {\r\n    NavBar,\r\n    Swipe,\r\n    SwipeItem,\r\n    Popup,\r\n    Stepper,\r\n    Rate,\r\n    Toast,\r\n    ImagePreview,\r\n    Dialog,\r\n    Tab,\r\n    Tabs,\r\n    Loading,\r\n    Empty,\r\n    Icon\r\n} from \"vant\";\r\nimport {\r\n    getSellerGoods,\r\n    getEvaluationList,\r\n    getSellerInfo,\r\n    keepGoods,\r\n    keepGoodsDel,\r\n    apiEvaluationCountType,\r\n    apiRecommendAndLike,\r\n} from \"@/API/commodity\";\r\nimport { apiGetRecommendNew } from '@/API/home'\r\nimport { isLogin, priceFormat, getStorage, formatZoneDate, priceFormatInt } from \"@/utils/utis\";\r\nimport Footer from '@/components/Footer'\r\nexport default {\r\n    data() {\r\n        return {\r\n            formatZoneDate,\r\n            priceFormatInt,\r\n            itemName: process.env.VUE_APP_ITEM_NAME,\r\n            mainColor: process.env.VUE_APP_MAIN_COLOR,\r\n            sort_index: '',\r\n            goods_info: {}, //商品信息\r\n            tab_nav_list: [this.$t(\"商品\"), this.$t(\"评价\"), this.$t(\"详情\")],\r\n            tab_index: 0,\r\n            swiperWaitTime: 5000,\r\n            imageList: [],\r\n            isShippingShow: false,\r\n            isShowTopBtn: false,\r\n            EvaluationInfo: [],\r\n            SellerInfo: {},\r\n            sellerGoodsId: \"\",\r\n            cartNum: 0, //购物车数量\r\n            bugNum: 1, //购买数量\r\n            evaluationNum: 0,\r\n            collectTitle: '',\r\n            cardShow: false,\r\n            isCard: false,\r\n            attributesIndex: [],\r\n            Token: \"\",\r\n            isWatch: true,\r\n            productPropertiesShow: false,\r\n            activeAttrs: [],\r\n            allSkus: [],\r\n            currentSkuTitle: [],\r\n            currentSkuId: \"-1\",\r\n            //\r\n            attrsIdSkuId: [],\r\n            defaultSku: [],\r\n            defaultAvatar: require(\"@/assets/image/default_avatar.png\"),\r\n            ImagePreview,\r\n            isLoading: false,\r\n            isEn: getStorage('lang') == 'en',\r\n            havePicture: '0',\r\n            mediumReview: '0',\r\n            negativeComment: '0',\r\n            positiveComments: '0',\r\n            recommendedGoods: [],\r\n            likeGoods: [],\r\n            currentCoverImg: '',\r\n            defaultImageList: [],\r\n            btnDisabled: true,\r\n            originalPrice: 0,\r\n            maxBuyNum: localStorage.getItem('maxBuyNum') || 500,\r\n        };\r\n    },\r\n    computed: {\r\n        langIsAr() {\r\n            return localStorage.getItem('lang') == 'ar'\r\n        }\r\n    },\r\n    components: {\r\n        Footer,\r\n        [ImagePreview.name]: ImagePreview,\r\n        [Empty.name]: Empty,\r\n        [Loading.name]: Loading,\r\n        [Tab.name]: Tab,\r\n        [Tabs.name]: Tabs,\r\n        [NavBar.name]: NavBar,\r\n        [Swipe.name]: Swipe,\r\n        [SwipeItem.name]: SwipeItem,\r\n        [Popup.name]: Popup,\r\n        [Stepper.name]: Stepper,\r\n        [Rate.name]: Rate,\r\n        [Icon.name]: Icon,\r\n        [Toast.name]: Toast,\r\n        [Dialog.Component.name]: Dialog.Component,\r\n    },\r\n    created() {\r\n        setTimeout(() => {\r\n            window.scrollTo(0, 0);\r\n        }, 50)\r\n\r\n        let lang = this.$route.query?.lang\r\n        if (lang) {\r\n            switch (lang) {\r\n                case 'zh-CN':\r\n                    lang = 'cn'\r\n                    break;\r\n                case 'zh-TW':\r\n                case 'CN':\r\n                    lang = 'tw'\r\n                    break;\r\n                case 'en-US':\r\n                    lang = 'en'\r\n                    break;\r\n                default:\r\n                    lang = 'en'\r\n                    break;\r\n            }\r\n            sessionStorage.setItem('backPath', '/')\r\n            if (lang !== localStorage.getItem('lang')) {\r\n                localStorage.setItem('lang', lang)\r\n                location.reload()\r\n            }\r\n        }\r\n        this.sellerGoodsId = this.$route.query.sellerGoodsId;\r\n        if (this.sellerGoodsId) {\r\n            this.getSellerGoodsInfo();\r\n            this.getEvaluationList();\r\n        }\r\n        //购物车数量\r\n        if (this.$ls.get(\"productList\")) {\r\n            let list = this.$ls.get(\"productList\");\r\n            this.cartNum = list.reduce(function (prev, cur) {\r\n                return (prev += cur.count);\r\n            }, 0);\r\n        }\r\n        //监听购物车商品\r\n        this.$ls.on(\"productList\", (list) => {\r\n            if (list.length > 0) {\r\n                this.cartNum = list.reduce(function (prev, cur) {\r\n                    return (prev += cur.count);\r\n                }, 0);\r\n            }\r\n        });\r\n        // 获取中评差评数量\r\n        apiEvaluationCountType({ goodId: this.$route.query.sellerGoodsId }).then(res => {\r\n            const { havePicture, mediumReview, negativeComment, positiveComments } = res\r\n            this.havePicture = havePicture\r\n            this.mediumReview = mediumReview\r\n            this.negativeComment = negativeComment\r\n            this.positiveComments = positiveComments\r\n        })\r\n        this.Token = localStorage.getItem(\"item\");\r\n    },\r\n    mounted() {\r\n        window.addEventListener(\"scroll\", this.handleScroll);\r\n    },\r\n    methods: {\r\n        // 获取推荐商品 type： 1、猜你喜欢  2、推荐\r\n        async requestRecommendedProduct() {\r\n            const params = { sellerId: this.SellerInfo?.id, pageNum: 1, }\r\n            this.likeGoods = await apiRecommendAndLike({ ...params, pageSize: 4, type: 1 })\r\n            this.recommendedGoods = await apiRecommendAndLike({ ...params, pageSize: 8, type: 2, })\r\n        },\r\n        handleTabsChange(index) {\r\n            this.tab_index = index\r\n            this.toTop(index)\r\n        },\r\n        handleToggle(info, index, dis, bool) {\r\n            if (dis) return\r\n            const disAttr = new Set();\r\n            const allGood = this.goods_info?.canSelectAttributes?.goodAttrs\r\n            const temparr = JSON.parse(JSON.stringify(this.activeAttrs))\r\n            if (allGood.length === this.activeAttrs.length) {\r\n                allGood.forEach((item, i) => {\r\n                    if (i != index) {\r\n                        item.attrValues.forEach((attr, j) => {\r\n                            if (attr.attrValueId !== info.attrValueId) {\r\n                                temparr[i] = attr.attrValueId\r\n                                if (!this.getSkusAndPrice(true, temparr)) {\r\n                                    disAttr.add(attr.attrValueId)\r\n                                    this.$set(this.activeAttrs, index, info.attrValueId);\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n\r\n            this.allSkus.flatMap(item => item.attrs)\r\n                .filter(attr => attr.hidden && attr.attrValueId !== info.attrValueId)\r\n                .forEach(attr => disAttr.add(attr.attrValueId));\r\n\r\n            allGood.forEach(item => {\r\n                item.attrValues.forEach(attr => {\r\n                    attr.disabled = disAttr.has(attr.attrValueId);\r\n                });\r\n            });\r\n            this.$set(this.activeAttrs, index, info.attrValueId);\r\n            this.getSkusAndPrice()\r\n            disAttr.clear()\r\n            this.$forceUpdate();\r\n            !bool && this.handleToggle(info, index, dis, true)\r\n        },\r\n        getSkusAndPrice(find, arr) {\r\n            let skuMap = {}\r\n            this.allSkus.forEach((item) => {\r\n                const attrIds = item.attrs.map(attr => attr.attrValueId).join(',')\r\n                if (skuMap[attrIds]) return\r\n                skuMap[attrIds] = {\r\n                    title: item.attrs.map(attr => attr.attrName && attr.attrValueName ? `${attr.attrName}: ${attr.attrValueName}` : ''),\r\n                    coverImg: item.coverImg,\r\n                    discountPrice: item.discountPrice,\r\n                    sellingPrice: item.sellingPrice,\r\n                    skuId: item.skuId,\r\n                    img: item?.img || this.defaultImageList,\r\n                    hidden: item.hidden,\r\n                    price: item.price,\r\n                }\r\n            })\r\n            const attrIds = find ? arr.join(',') : this.activeAttrs.join(',')\r\n            if (skuMap[attrIds] && !find) {\r\n                this.currentSkuTitle = skuMap[attrIds].title\r\n                this.goods_info.discountPrice = skuMap[attrIds].discountPrice || skuMap[attrIds].sellingPrice\r\n                this.currentSkuId = skuMap[attrIds].skuId\r\n                this.currentCoverImg = skuMap[attrIds].coverImg\r\n                this.imageList = skuMap[attrIds].img\r\n                this.btnDisabled = false\r\n                this.originalPrice = skuMap[attrIds].discountPrice ? skuMap[attrIds].price : 0\r\n            } else {\r\n                if (Object.keys(skuMap).length === 0) {\r\n                    this.btnDisabled = false\r\n                } else {\r\n                    this.btnDisabled = true\r\n                }\r\n                return skuMap[attrIds]\r\n            }\r\n        },\r\n        handleSubmit() {\r\n            this.getSkusAndPrice()\r\n            this.isCard ? this.addCart() : this.openPay();\r\n        },\r\n        handleScroll() {\r\n            this.isShowTopBtn = (document.documentElement.scrollTop || document.body.scrollTop) > 500\r\n            if (!this.isWatch) return;\r\n            let EvaluationOffsetTop =\r\n                this.$el.querySelector(\"#Evaluation\").offsetTop - 50;\r\n            let detailsOffsetTop =\r\n                this.$el.querySelector(\"#details\").offsetTop - 50;\r\n            let scrollTop =\r\n                window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop;\r\n            if (scrollTop <= EvaluationOffsetTop) {\r\n                this.tab_index = 0;\r\n            } else if (\r\n                scrollTop >= EvaluationOffsetTop &&\r\n                scrollTop <= detailsOffsetTop\r\n            ) {\r\n                this.tab_index = 1;\r\n            } else if (scrollTop >= detailsOffsetTop) {\r\n                this.tab_index = 2;\r\n            }\r\n        },\r\n        priceFormat(num) {\r\n            return priceFormat(num);\r\n        },\r\n        //添加购物车\r\n        addCart() {\r\n            if (isLogin()) {\r\n                if (this.goods_info?.isShelf == 0) {\r\n                    this.$notifyWarn(this.$t(\"该商品已下架\"));\r\n                    return\r\n                }\r\n                this.productPropertiesShow = this.cardShow = false;\r\n                let productList = [];\r\n                if (JSON.stringify(this.goods_info) == \"{}\") {\r\n                    console.log(\"商品数据有误,无法添加\");\r\n                    return;\r\n                }\r\n                //添加选择数量\r\n                this.goods_info.count = this.bugNum;\r\n                this.goods_info.skuId = this.currentSkuId;\r\n                this.goods_info.coverImg = this.currentCoverImg;\r\n                this.goods_info.tempId = new Date().getTime();\r\n\r\n                if (this.$ls.get(\"productList\")) {\r\n                    productList = this.$ls.get(\"productList\") || [];\r\n                    //验证是否已添加过\r\n                    let ishave = true;\r\n                    try {\r\n                        productList.forEach((item) => {\r\n                            if (item.id == this.goods_info.id && item.skuId == this.goods_info.skuId) {\r\n                                item.count += this.bugNum;\r\n                                this.cartNum += this.bugNum;\r\n                                // Toast(this.$t(\"购物车添加成功\"));\r\n                                this.$notify(this.$t('购物车添加成功'), 'success')\r\n                                // Toast(this.$t('购物车已存在此商品'))\r\n                                ishave = false;\r\n                                throw \"跳出添加\";\r\n                            }\r\n                        });\r\n                    } catch (e) {\r\n                        //购物数量添加,重置购物车\r\n                        this.$ls.set(\"productList\", productList);\r\n                        this.$ls.remove(\"cartList\");\r\n                    }\r\n                    //添加\r\n                    if (ishave) {\r\n                        if (this.goods_info.storeName == \"\") {\r\n                            // return Toast(this.$t(\"购物车添加失败, 请返回重试\"));\r\n                            return this.$notify(this.$t('购物车添加失败, 请返回重试'))\r\n                        }\r\n                        productList.push(this.goods_info);\r\n                        this.$ls.set(\"productList\", productList);\r\n                        this.cartNum = productList.reduce(function (prev, cur) {\r\n                            return (prev += cur.count);\r\n                        }, 0);\r\n                        // Toast(this.$t(\"购物车添加成功\"));\r\n                        this.$notify(this.$t('购物车添加成功'), 'success')\r\n                        this.$ls.remove(\"cartList\");\r\n                    }\r\n                } else {\r\n                    if (this.goods_info.storeName == \"\") {\r\n                        return this.$notify(this.$t('购物车添加失败, 请返回重试'))\r\n                    }\r\n                    productList.push(this.goods_info);\r\n                    this.$ls.set(\"productList\", productList);\r\n                    this.cartNum = productList.reduce(function (prev, cur) {\r\n                        return (prev += cur.count);\r\n                    }, 0);\r\n                    // Toast(this.$t(\"购物车添加成功\"));\r\n                    this.$notify(this.$t('购物车添加成功'), 'success')\r\n                    this.$ls.remove(\"cartList\");\r\n                }\r\n                // console.log(this.$ls.get('productList'))\r\n                // this.$ls.clear()\r\n            } else {\r\n                this.productPropertiesShow = this.cardShow = false;\r\n                //   Toast(this.$t(\"请先登录\"));\r\n                // Dialog.confirm({\r\n                //     title: this.$t(\"您还未登录\"),\r\n                //     message: this.$t(\"是否跳转到登录页面\"),\r\n                //     confirmButtonText: this.$t(\"确认\"),\r\n                //     cancelButtonText: this.$t(\"取消\"),\r\n                // }).then(() => {\r\n                //     this.$router.push(\"/login\");\r\n                // });\r\n                this.$notifyWarn(this.$t(\"请先登录\"));\r\n                this.$router.push(\"/login\");\r\n            }\r\n        },\r\n        //获取商品详情\r\n        getSellerGoodsInfo(sellerGoodsId) {\r\n            this.collectTitle = this.$t('收藏')\r\n            this.$toast.loading()\r\n            // 推荐商品/猜你喜欢\r\n            if (sellerGoodsId) {\r\n                this.activeAttrs = []\r\n                this.allSkus = []\r\n                this.goods_info = {}\r\n                this.imageList = this.defaultImageList = []\r\n                scrollTo({ top: 0, left: 0, behavior: 'smooth' })\r\n            }\r\n            let dataJson = {\r\n                sellerGoodsId: sellerGoodsId || this.sellerGoodsId,\r\n                skuId: this.$route.query?.skuId || null,\r\n            };\r\n            getSellerGoods(dataJson).then((data) => {\r\n                this.$nextTick(() => {\r\n                    this.goods_info = data;\r\n                    this.getSkusAndPrice()\r\n                })\r\n                if (data.canSelectAttributes?.goodAttrs?.length) {\r\n                    data.canSelectAttributes.goodAttrs.forEach((item) => {\r\n                        this.activeAttrs.push(item.attrValues[0].attrValueId);\r\n                        // if (item.attrValues[0].icon) {\r\n                        //     this.imageList = item.attrValues.map(sub => sub.iconImg)\r\n                        // }\r\n                    });\r\n                    this.allSkus = data.canSelectAttributes.skus;\r\n                    const ids = data.canSelectAttributes.goodAttrs.map(item => item.attrId)\r\n                    this.allSkus.forEach((item) => {\r\n                        item.attrs = item.attrs.sort((star, next) => ids.indexOf(star.attrId) - ids.indexOf(next.attrId))\r\n                    })\r\n                }\r\n                for (let i = 0; i < 10; i++) {\r\n                    if (data[`imgUrl${i + 1}`]) {\r\n                        this.defaultImageList.push(data[`imgUrl${i + 1}`]);\r\n                    }\r\n                }\r\n                if (!this.imageList.length) {\r\n                    this.imageList = this.defaultImageList\r\n                }\r\n                this.getSellerInfo(data.seller.id);\r\n                if (this.goods_info.isKeep == 1) {\r\n                    this.collectTitle = this.$t(\"已收藏\");\r\n                } else {\r\n                    this.collectTitle = this.$t(\"收藏\");\r\n                }\r\n                if (!data.canSelectAttributes?.goodAttrs) {\r\n                    if (data.discountPrice) {\r\n                        this.originalPrice = data.sellingPrice\r\n                    }\r\n                }\r\n                this.$toast.clear()\r\n            });\r\n        },\r\n        //获取评论\r\n        getEvaluationList() {\r\n            let dataJson = {\r\n                sellerGoodsId: this.sellerGoodsId,\r\n                pageNum: 1,\r\n                pageSize: 1,\r\n                evaluationType: this.sort_index\r\n            };\r\n            getEvaluationList(dataJson).then((res) => {\r\n                if (res.pageList.length > 0) {\r\n                    this.EvaluationInfo = res.pageList.slice(0, 5);\r\n                    this.EvaluationInfo = this.EvaluationInfo.map(item => {\r\n                        const images = [item.imgUrl1, item.imgUrl2, item.imgUrl3, item.imgUrl4, item.imgUrl5, item.imgUrl6, item.imgUrl7, item.imgUrl8, item.imgUrl9]\r\n                        return {\r\n                            ...item,\r\n                            avatar: item.avatar || Math.floor(Math.random() * 20),\r\n                            images: images.filter(url => (!!url))\r\n                        }\r\n                    })\r\n                    this.evaluationNum = res.evaluationNum;\r\n                } else {\r\n                    this.EvaluationInfo = []\r\n                }\r\n            });\r\n        },\r\n        addKeepGoods() {\r\n            if (!isLogin()) {\r\n                //   Toast(this.$t(\"请先登录\"));\r\n                // Dialog.confirm({\r\n                //     title: this.$t(\"您还未登录\"),\r\n                //     message: this.$t(\"是否跳转到登录页面\"),\r\n                //     confirmButtonText: this.$t(\"确认\"),\r\n                //     cancelButtonText: this.$t(\"取消\"),\r\n                // }).then(() => {\r\n                //     this.$router.push(\"/login\");\r\n                // });\r\n                this.$notifyWarn(this.$t(\"请先登录\"));\r\n                this.$router.push(\"/login\");\r\n                return;\r\n            }\r\n\r\n            if (this.goods_info.isKeep == 1) {\r\n                let dataJson = {\r\n                    sellerGoodsId: this.sellerGoodsId,\r\n                };\r\n                keepGoodsDel(dataJson).then(() => {\r\n                    this.collectTitle = this.$t(\"收藏\");\r\n                    this.goods_info.isKeep = 0;\r\n                    Toast(this.$t(\"取消成功\"));\r\n                });\r\n            } else {\r\n                let dataJson = {\r\n                    sellerGoodsId: this.sellerGoodsId,\r\n                };\r\n                keepGoods(dataJson).then(() => {\r\n                    this.collectTitle = this.$t(\"已收藏\");\r\n                    this.goods_info.isKeep = 1;\r\n                    Toast(this.$t(\"收藏成功\"));\r\n                });\r\n            }\r\n        },\r\n        //跳转评论页\r\n        jumpAllReviews() {\r\n            this.$router.push({\r\n                path: \"/allReviews\",\r\n                query: { sellerGoodsId: this.sellerGoodsId },\r\n            });\r\n        },\r\n        // 商家详情\r\n        getSellerInfo(id) {\r\n            let dataJson = {\r\n                sellerId: id,\r\n            };\r\n            getSellerInfo(dataJson).then((res) => {\r\n                this.SellerInfo = res;\r\n                //详情里添加商铺名称\r\n                this.goods_info.storeName = res.name;\r\n                this.isLoading = false\r\n                isLogin() && this.requestRecommendedProduct()\r\n            }).catch(err => {\r\n                console.log(`err ::->`, err);\r\n                this.isLoading = false\r\n            })\r\n        },\r\n        checkActive(index) {\r\n            return index === this.current; // current为监听的轮播index\r\n        },\r\n        //监听product轮播index\r\n        handleChangeSwiper(index) {\r\n            this.current = index;\r\n        },\r\n        onClickLeft() {\r\n            const backPath = sessionStorage.getItem(\"backPath\")\r\n            if (backPath) {\r\n                this.$router.replace('/')\r\n                sessionStorage.removeItem(\"backPath\")\r\n            } else {\r\n                this.$router.go(-1);\r\n            }\r\n        },\r\n        toTop(index) {\r\n            this.isWatch = false;\r\n            setTimeout(() => (this.isWatch = true), 1000);\r\n            this.tab_index = index;\r\n            if (index === 0) {\r\n                this.$el\r\n                    .querySelector(\"#product\")\r\n                    .scrollIntoView({ block: \"start\", behavior: \"smooth\" });\r\n            } else if (index === 1) {\r\n                this.$el\r\n                    .querySelector(\"#Evaluation\")\r\n                    .scrollIntoView({ block: \"start\", behavior: \"smooth\" });\r\n            } else {\r\n                this.$el\r\n                    .querySelector(\"#details\")\r\n                    .scrollIntoView({ block: \"start\", behavior: \"smooth\" });\r\n            }\r\n        },\r\n        //跳转商铺\r\n        jumpShop() {\r\n            sessionStorage.removeItem(\"shopState\");\r\n            this.$router.push(`/shop?sellerId=${this.SellerInfo.id}&index=0`);\r\n        },\r\n        //跳转下单\r\n        openPay() {\r\n            if (!isLogin()) {\r\n                this.productPropertiesShow = false;\r\n                // Dialog.confirm({\r\n                //     title: this.$t(\"您还未登录\"),\r\n                //     message: this.$t(\"是否跳转到登录页面\"),\r\n                //     confirmButtonText: this.$t(\"确认\"),\r\n                //     cancelButtonText: this.$t(\"取消\"),\r\n                // }).then(() => {\r\n                //     this.$router.push(\"/login\");\r\n                // });\r\n                this.$notifyWarn(this.$t(\"请先登录\"));\r\n                this.$router.push(\"/login\");\r\n                return;\r\n            }\r\n            if (this.goods_info?.isShelf == 0) {\r\n                this.$notifyWarn(this.$t(\"该商品已下架\"));\r\n                return\r\n            }\r\n            localStorage.setItem(\"sellerId\", this.goods_info.sellerId);\r\n            localStorage.setItem(\"storeName\", this.goods_info.storeName);\r\n            this.goods_info.tempId = new Date().getTime();\r\n            //type:1直接购买,2购物车购买\r\n            this.$router.push({\r\n                path: \"/orderComnfirmation\",\r\n                query: {\r\n                    skuId: this.currentSkuId,\r\n                    type: 1,\r\n                    goodsInfo: JSON.stringify(this.goods_info),\r\n                    bugNum: this.bugNum,\r\n                    isCart: 0,\r\n                    currentCoverImg: this.currentCoverImg\r\n                },\r\n            });\r\n        },\r\n        // 打开客服\r\n        openCustomer() {\r\n            localStorage.setItem(\"sellerId\", this.goods_info.sellerId);\r\n            localStorage.setItem(\"storeName\", this.goods_info.storeName);\r\n            if (isLogin()) {\r\n                // Toast(this.$t(\"请先登录\"));\r\n                sessionStorage.setItem('shopName', this.SellerInfo.name)\r\n                this.$router.push({ path: `/customerServiceIndex?goodsId=${this.goods_info.id}` });\r\n            } else {\r\n                //   Toast(this.$t(\"请先登录\"));\r\n                // Dialog.confirm({\r\n                //     title: this.$t(\"您还未登录\"),\r\n                //     message: this.$t(\"是否跳转到登录页面\"),\r\n                //     confirmButtonText: this.$t(\"确认\"),\r\n                //     cancelButtonText: this.$t(\"取消\"),\r\n                // }).then(() => {\r\n                //     this.$router.push(\"/login\");\r\n                // });\r\n                this.$notifyWarn(this.$t(\"请先登录\"));\r\n                this.$router.push(\"/login\");\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        bugNum(val) {\r\n            this.cartNum = val;\r\n        },\r\n        sort_index() {\r\n            this.getEvaluationList()\r\n        },\r\n        productPropertiesShow(val) {\r\n            val && (this.swiperWaitTime = 5000)\r\n        },\r\n    },\r\n    beforeDestroy() {\r\n        window.removeEventListener(\"scroll\", this.handleScroll);\r\n    },\r\n    destroyed() {\r\n        //撤销监听\r\n        this.$ls.off(\"productList\");\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nhtml[dir=\"rtl\"] {\r\n    .CommodityDetails /deep/ .van-tab--active {\r\n        position: relative;\r\n\r\n        &::after {\r\n            content: '';\r\n            width: 50px;\r\n            height: 3px;\r\n            background: var(--main-color);\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 50%;\r\n            transform: translateX(-50%);\r\n            border-radius: 2px;\r\n        }\r\n    }\r\n}\r\n\r\n.may_like {\r\n    margin-top: 16px;\r\n    width: 100%;\r\n\r\n\r\n    .ml_title {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .ml_list {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        padding-bottom: 20px;\r\n    }\r\n\r\n    .list-item {\r\n        width: 46%;\r\n        height: 245px;\r\n        border: 1px solid #eeeeee;\r\n        margin-top: 20px;\r\n        border-radius: 4px;\r\n\r\n        .commodity-img {\r\n            width: 130px;\r\n            height: 130px;\r\n            // height: 160px;\r\n            padding: 10px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            img {\r\n                height: fit-content;\r\n                width: auto;\r\n                max-height: 100%;\r\n                max-width: 100%;\r\n            }\r\n        }\r\n\r\n        .money {\r\n\r\n            color: var(--main-color);\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n            margin-top: 10px;\r\n            padding-left: 8px;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .text {\r\n            color: #999999;\r\n            font-size: 12px;\r\n            margin-top: 3px;\r\n            padding-left: 8px;\r\n            box-sizing: border-box;\r\n        }\r\n\r\n        .titlename {\r\n            width: 100%;\r\n            height: 37px;\r\n            margin-top: 4px;\r\n            padding-left: 8px;\r\n            box-sizing: border-box;\r\n            text-align: left !important;\r\n        }\r\n    }\r\n\r\n    .list-item:nth-child(even) {\r\n        margin-left: 6%;\r\n    }\r\n}\r\n\r\n.recommended_product {\r\n    margin-top: 16px;\r\n    width: 100%;\r\n\r\n    .rd_title {\r\n        font-size: 14px;\r\n    }\r\n\r\n    ul {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: space-between;\r\n        box-sizing: border-box;\r\n\r\n        li {\r\n            flex: 0 0 167px;\r\n            height: 70px;\r\n            border: 1px solid #eee;\r\n            margin-top: 16px;\r\n            display: flex;\r\n            border-radius: 2px;\r\n\r\n            .img {\r\n                flex: 0 0 63px;\r\n                height: 63px;\r\n                padding: 6px;\r\n                box-sizing: border-box;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n\r\n                img {\r\n                    max-width: 100%;\r\n                    max-height: 100%;\r\n                }\r\n            }\r\n\r\n            .rd_right {\r\n                flex: 1;\r\n                padding-top: 10px;\r\n\r\n                span {\r\n                    &:nth-child(1) {\r\n                        font-size: 10px;\r\n                        min-height: 28px;\r\n                    }\r\n\r\n                    &:nth-child(2) {\r\n                        margin-top: 4px;\r\n                        font-weight: 500;\r\n                        font-size: 14px;\r\n                        line-height: 16px;\r\n\r\n                        color: var(--main-color);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.product_properties {\r\n    min-height: 30%;\r\n    padding: 20px 0;\r\n    // z-index: 10000 !important;\r\n\r\n\r\n\r\n    .p_top {\r\n        padding: 0 20px;\r\n        display: flex;\r\n        align-items: center;\r\n        min-height: 60px;\r\n\r\n        .img {\r\n            flex: 0 0 50px;\r\n            width: 50px;\r\n            height: 50px;\r\n            margin-right: 10px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            padding: 5px;\r\n            border: 1px solid #efefef;\r\n            border-radius: 4px;\r\n\r\n            img {\r\n                max-width: 100%;\r\n                max-height: 100%;\r\n            }\r\n        }\r\n\r\n        .t_right {\r\n            height: 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-between;\r\n\r\n            // align-items: center;\r\n            .price {\r\n                font-size: 16px;\r\n                font-weight: 500;\r\n                color: var(--main-color);\r\n            }\r\n\r\n            .num_box {\r\n                display: flex;\r\n                flex-direction: column;\r\n                font-size: 12px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .attributes_box {\r\n        max-height: 330px;\r\n        overflow-y: auto;\r\n        scrollbar-width: none;\r\n        -ms-overflow-style: none;\r\n\r\n        &::-webkit-scrollbar {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    .attributes {\r\n        margin-top: 20px;\r\n        padding: 0 0 0 20px;\r\n\r\n        .p_title {\r\n            font-size: 14px;\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        ul {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n\r\n            li {\r\n                padding: 5px 16px;\r\n                background: #f2f2f2;\r\n                margin-right: 10px;\r\n                margin-bottom: 10px;\r\n                border-radius: 4px;\r\n                // max-width: 38px;\r\n                // max-height: 38px;\r\n                border: 1px solid #eee;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n\r\n                img {\r\n                    max-width: 25px;\r\n                    max-height: 25px;\r\n                }\r\n\r\n                &.active {\r\n                    background: var(--main-color);\r\n                    color: #fff !important;\r\n                }\r\n\r\n                &.disabled {\r\n                    // background: #ccc;\r\n                    color: #A3A3A3;\r\n                    opacity: .8;\r\n                    // opacity: .5;\r\n                }\r\n\r\n                &.img_box {\r\n                    min-width: 38px;\r\n                    min-height: 38px;\r\n                    padding: 0;\r\n                    background: #fff;\r\n\r\n                    &.disabled {\r\n                        border: 1px dashed #eee !important;\r\n                        background: transparent !important;\r\n                        opacity: .5;\r\n                        // -webkit-filter: grayscale(100%);\r\n                        // -moz-filter: grayscale(100%);\r\n                        // -ms-filter: grayscale(100%);\r\n                        // -o-filter: grayscale(100%);\r\n                        // filter: grayscale(100%);\r\n                        // filter: gray;\r\n                    }\r\n\r\n                    &.active {\r\n                        border-color: var(--main-color);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .count_box {\r\n        margin-top: 30px;\r\n        padding: 0 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n    }\r\n\r\n    .sure {\r\n        // width: 100%;\r\n        margin-top: 40px;\r\n        padding: 0 20px;\r\n\r\n        .btn {\r\n            // background: var(--main-color);\r\n            background: var(--main-color);\r\n            border: none;\r\n            border-radius: 4px;\r\n            font-size: 14px;\r\n        }\r\n    }\r\n}\r\n\r\n.comment_image {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n\r\n    // padding: 0 15px;\r\n    div {\r\n        width: 77px;\r\n        height: 72px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        border: 1px solid #EEEEEE;\r\n        flex: 0 0 77px;\r\n        margin-right: 8px;\r\n        margin-top: 8px;\r\n\r\n        img {\r\n            max-width: 60px;\r\n            max-height: 60px;\r\n        }\r\n    }\r\n}\r\n\r\n.CommodityDetails {\r\n    width: 100%;\r\n    min-height: 100%;\r\n    font-size: 14px;\r\n    padding-bottom: 53px;\r\n    overflow-x: hidden;\r\n\r\n    a {\r\n        color: #333333;\r\n    }\r\n\r\n    .tab-wrap {\r\n        display: flex;\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        width: 90%;\r\n        height: 46px;\r\n        margin-left: 10%;\r\n\r\n        :deep(.van-tabs) {\r\n            width: 100%;\r\n\r\n            .van-tabs__line {\r\n                width: 80px;\r\n                // background: var(--main-color) !important;\r\n                background: var(--main-color) !important;\r\n            }\r\n        }\r\n\r\n        .tab-item {\r\n            flex: 1;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n        }\r\n\r\n        .active {\r\n            // border-bottom: 2px solid var(--main-color);\r\n            border-bottom: 2px solid var(--main-color);\r\n        }\r\n    }\r\n\r\n    .banner-product {\r\n        width: 100%;\r\n        // margin-top: 10px;\r\n        //   filter: drop-shadow(0px 6px 12px rgba(55, 63, 69, 0.1));\r\n        border-radius: 4px;\r\n        position: relative;\r\n        min-height: calc(100vw + 10px);\r\n\r\n        .van-swipe {\r\n            min-height: calc(100vw + 10px);\r\n        }\r\n\r\n        .swipe-item {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            height: 100vw;\r\n\r\n            .img {\r\n                max-width: 100%;\r\n                max-height: 100%;\r\n                margin: 0 auto;\r\n                // transform: translateY(-10px);\r\n            }\r\n        }\r\n\r\n        //指示器\r\n        .indicators {\r\n            position: absolute;\r\n            bottom: 0px;\r\n            left: 50%;\r\n            display: flex;\r\n            transform: translateX(-50%);\r\n        }\r\n\r\n        .indicator li {\r\n            display: inline;\r\n            width: 12px;\r\n            height: 2px;\r\n            background-color: rgb(93, 91, 88);\r\n            border-radius: 20%;\r\n            opacity: 0.3;\r\n            transition: opacity 0.5s,\r\n                //@animation-duration-fast\r\n                background-color 0.5s; //@animation-duration-fast\r\n\r\n            &:not(:last-child) {\r\n                margin-right: 6px;\r\n            }\r\n\r\n            &.active {\r\n                background-color: var(--main-color);\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    .product-info-wrap {\r\n        padding: 0 10px;\r\n\r\n        .product-name {\r\n            font-weight: 500;\r\n            font-size: 16x;\r\n            padding: 15px 0;\r\n            border-bottom: 1px solid #eeeeee;\r\n        }\r\n\r\n        .price-box {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            height: 30px;\r\n            border-bottom: 1px solid #eeeeee;\r\n            padding: 10px 0;\r\n            overflow-x: auto;\r\n            overflow-y: hidden;\r\n            line-height: 18px;\r\n            scrollbar-width: none;\r\n            -ms-overflow-style: none;\r\n\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n\r\n            .product-sold {\r\n                font-size: 12px;\r\n                color: #999;\r\n                white-space: nowrap;\r\n            }\r\n\r\n            .product-sellingPrice {\r\n                display: flex;\r\n                justify-content: space-between;\r\n                align-items: center;\r\n                color: #999999;\r\n                line-height: 18px;\r\n                white-space: nowrap;\r\n                margin: 0 20px;\r\n\r\n                .title {\r\n                    font-size: 12px;\r\n                    line-height: 18px;\r\n                }\r\n\r\n                .money {\r\n                    text-decoration: line-through;\r\n                    margin-left: 10px;\r\n                    font-size: 10px;\r\n                    line-height: 18px;\r\n                }\r\n            }\r\n\r\n            .product-price {\r\n                white-space: nowrap;\r\n\r\n                .title {\r\n                    color: #999999;\r\n                    font-size: 14px;\r\n                }\r\n\r\n                .money {\r\n                    // color: hsl(37, 100%, 49%);\r\n                    color: var(--main-color);\r\n                    font-size: 16px;\r\n                    font-weight: 500;\r\n                    margin-left: 10px;\r\n                }\r\n\r\n                .text {\r\n                    margin-left: 15px;\r\n                    color: #999999;\r\n                    font-size: 12px;\r\n                    text-decoration: line-through;\r\n                }\r\n            }\r\n        }\r\n\r\n        .product-norm {\r\n            display: flex;\r\n            color: #999999;\r\n            font-size: 12px;\r\n            margin-top: 10px;\r\n            border-bottom: 1px solid #eeeeee;\r\n            padding-bottom: 10px;\r\n            justify-content: flex-end;\r\n            // .left {\r\n            //   // flex: 1;\r\n            // }\r\n\r\n            // .right {\r\n            // }\r\n        }\r\n\r\n        .product-line-item {\r\n            width: 100%;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-start;\r\n            font-size: 12px;\r\n            border-bottom: 1px solid #eeeeee;\r\n            padding: 15px 0;\r\n\r\n            .left {\r\n                // flex: 1;\r\n                // min-width: 10px;\r\n                margin-right: 10px;\r\n            }\r\n\r\n            .right {\r\n                flex: 1;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: flex-end;\r\n            }\r\n        }\r\n    }\r\n\r\n    .Evaluation {\r\n        padding: 0 10px;\r\n\r\n        .sort {\r\n            width: 100vw;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: flex-start;\r\n            margin: 13px 0;\r\n            overflow-x: auto;\r\n            scrollbar-width: none;\r\n            -ms-overflow-style: none;\r\n\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n\r\n            &.en_sort {\r\n                flex-wrap: wrap;\r\n\r\n                span {\r\n                    flex: 0 0 30%;\r\n                    margin-right: 0 !important;\r\n                    margin-top: 13px;\r\n                    margin-left: 13px;\r\n                }\r\n            }\r\n\r\n            span {\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                padding: 0 12px;\r\n                height: 28px;\r\n                border-radius: 14px;\r\n                margin-right: 13px;\r\n                color: #999;\r\n                background: #eee;\r\n                white-space: nowrap;\r\n\r\n                &.active {\r\n                    // background: var(--main-color);\r\n                    background: var(--main-color);\r\n                    color: #fff !important;\r\n                }\r\n\r\n                &.en_span {\r\n                    margin-right: 0px;\r\n\r\n                    &:nth-child(1) {\r\n                        transform: scale(.8) translateX(-15px);\r\n                    }\r\n\r\n                    &:nth-child(2) {\r\n                        transform: scale(.8) translateX(-30px);\r\n                    }\r\n\r\n                    &:nth-child(3) {\r\n                        transform: scale(.8) translateX(-45px);\r\n                    }\r\n\r\n                    &:nth-child(4) {\r\n                        transform: scale(.8) translateX(-62px);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .nav-item {\r\n            display: flex;\r\n            font-size: 12px;\r\n            margin-top: 10px;\r\n            // padding-bottom: 10px;\r\n\r\n            .left {\r\n                flex: 1;\r\n                min-width: 60px;\r\n            }\r\n\r\n            .right {\r\n                img {\r\n                    height: 10px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .user-info {\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            .avatar {\r\n                width: 32px;\r\n                height: 32px;\r\n\r\n                img {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n\r\n            .info {\r\n                margin-left: 10px;\r\n\r\n                .name {\r\n                    font-weight: 400;\r\n                    display: flex;\r\n                    align-items: center;\r\n\r\n                    .name-title {\r\n                        width: 60px;\r\n                    }\r\n\r\n                    .rate-wrap {\r\n                        margin-left: 10px;\r\n                    }\r\n                }\r\n\r\n                .datetime {\r\n                    color: #999999;\r\n                    font-size: 10px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .centent {\r\n            line-height: 17px;\r\n            margin-top: 10px;\r\n        }\r\n    }\r\n\r\n    .right-icon {\r\n        width: 6px;\r\n        height: 10px;\r\n        background: url(\"../../assets/image/commodity/gengduo.png\") no-repeat;\r\n        background-size: 100% 100%;\r\n        margin-left: 5px;\r\n    }\r\n\r\n    .details-wrap {\r\n        padding: 0 10px;\r\n\r\n        .shop-wrap {\r\n            min-height: 120px;\r\n            background: #ffffff;\r\n            border: 1px solid #eeeeee;\r\n            padding: 15px;\r\n            margin-top: 20px;\r\n\r\n            .shop-info {\r\n                display: flex;\r\n                align-items: center;\r\n                border-bottom: 1px solid #eeeeee;\r\n                padding-bottom: 20px;\r\n\r\n                .left {\r\n                    flex: 1;\r\n                    display: flex;\r\n                    align-items: center;\r\n\r\n                    .shop-logo {\r\n                        img {\r\n                            display: block;\r\n                            width: 46px;\r\n                            height: 46px;\r\n                            border-radius: 50%;\r\n                        }\r\n                    }\r\n\r\n                    .info {\r\n                        margin-left: 10px;\r\n\r\n                        .name {\r\n                            font-size: 14px;\r\n                            font-weight: bold;\r\n                        }\r\n\r\n                        .title {\r\n                            color: #333333;\r\n                            font-size: 10px;\r\n                            line-height: 1.5;\r\n                            padding-top: 5px;\r\n                            text-align: start;\r\n\r\n                            span {\r\n\r\n                                color: var(--main-color);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .right {\r\n                    background: #fcf2e2;\r\n                    // border: 1px solid var(--main-color);\r\n                    border: 1px solid var(--main-color);\r\n                    border-radius: 27px;\r\n                    min-width: 71px;\r\n                    min-height: 17px;\r\n                    padding: 0 5px;\r\n                    font-size: 10px;\r\n                    text-align: center;\r\n                    line-height: 17px;\r\n\r\n                    color: var(--main-color);\r\n                }\r\n            }\r\n\r\n            .shop-bottom {\r\n                display: flex;\r\n                margin-top: 15px;\r\n\r\n                .item {\r\n                    flex: 1;\r\n                    text-align: center;\r\n                    position: relative;\r\n\r\n                    .text {\r\n                        color: #333333;\r\n                        font-size: 16px;\r\n                        font-weight: bold;\r\n                    }\r\n\r\n                    .title {\r\n                        color: #333333;\r\n                        margin-top: 4px;\r\n                        font-size: 10px;\r\n                        line-height: 1;\r\n                    }\r\n                }\r\n\r\n                .item:not(:last-child) {\r\n                    &::after {\r\n                        position: absolute;\r\n                        right: 0;\r\n                        top: 50%;\r\n                        height: 20px;\r\n                        width: 1px;\r\n                        transform: translateY(-50%);\r\n                        background: #eeeeee;\r\n                        content: \"\";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .details-centent {\r\n            width: 100%;\r\n            overflow-x: hidden;\r\n            padding: 15px 0;\r\n\r\n            :deep(*) {\r\n                max-width: 100% !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    .buy-bottom-fiexd {\r\n        min-height: 53px;\r\n        background: #ffffff;\r\n        position: fixed;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        z-index: 1888;\r\n\r\n        .fiexd-left {\r\n            flex: 1;\r\n            display: flex;\r\n\r\n            .item {\r\n                padding: 0 5px;\r\n                flex: 1;\r\n                text-align: center;\r\n                padding-top: 8px;\r\n\r\n                .text {\r\n                    font-size: 12px;\r\n                    color: #333333;\r\n                    transform: translateY(-1px) scale(0.9);\r\n                }\r\n\r\n                .icon {\r\n                    width: 16px;\r\n                    height: 16px;\r\n                    margin: 0 auto;\r\n                    margin-bottom: 2px;\r\n                    position: relative;\r\n\r\n                    .tips {\r\n                        width: 15px;\r\n                        height: 15px;\r\n                        border-radius: 50%;\r\n                        background: #ff3e3e;\r\n                        text-align: center;\r\n                        line-height: 15px;\r\n                        font-size: 10px;\r\n                        color: #fff;\r\n                        position: absolute;\r\n                        right: -10px;\r\n                        top: -10px;\r\n                    }\r\n                }\r\n\r\n                .collect-icon {\r\n                    background: url(\"../../assets/image/commodity/Star6.png\") center no-repeat;\r\n                    background-size: 100% 100%;\r\n                }\r\n\r\n                .collect-check-icon {\r\n                    background: url(\"../../assets/image/commodity/Star7.png\") center no-repeat;\r\n                    background-size: 100% 100%;\r\n                }\r\n\r\n                .kefu-icon {\r\n                    background: url(\"../../assets/image/commodity/kefu.png\") center no-repeat;\r\n                    background-size: 100% 100%;\r\n                }\r\n\r\n                .kefu-icon {\r\n                    background: url(\"../../assets/image/commodity/kefu.png\") center no-repeat;\r\n                    background-size: 100% 100%;\r\n                }\r\n\r\n                .gouwuc-icon {\r\n                    background: url(\"../../assets/image/commodity/gouwuc.png\") center no-repeat;\r\n                    background-size: 100% 100%;\r\n                }\r\n            }\r\n        }\r\n\r\n        .fiexd-right {\r\n            width: 150px;\r\n            height: 100%;\r\n            min-height: 53px;\r\n            // background: var(--main-color);\r\n            background: var(--main-color);\r\n            height: 100%;\r\n            color: #ffffff;\r\n            text-align: center;\r\n            padding-top: 8px;\r\n            box-sizing: border-box;\r\n        }\r\n    }\r\n\r\n    .dingbu {\r\n        position: fixed;\r\n        bottom: 100px;\r\n        right: 10px;\r\n        font-size: 30px;\r\n    }\r\n\r\n    .pop-header-title {\r\n        height: 55px;\r\n        text-align: center;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        line-height: 55px;\r\n        border-bottom: 1px solid #eeeeee;\r\n        font-size: 16px;\r\n        color: #333333;\r\n    }\r\n\r\n    .centent-wrap {\r\n        padding: 65px 10px 10px 10px;\r\n\r\n        p {\r\n            color: #000;\r\n            padding: 5px 0;\r\n        }\r\n    }\r\n\r\n    .shop-description-title {\r\n        color: #000000;\r\n        padding: 10px 0;\r\n    }\r\n\r\n    .shop-description-text {\r\n        color: #000000;\r\n        font-size: 12px;\r\n        width: 100%;\r\n        overflow-x: hidden;\r\n    }\r\n}\r\n\r\n.title {\r\n    text-align: center;\r\n    line-height: 50px;\r\n    font-size: 16px;\r\n}\r\n\r\n.cart_title {\r\n    text-align: center;\r\n    font-size: 16px;\r\n    transform: translateY(-8px);\r\n}\r\n\r\n.card-wrap {\r\n    padding: 0 15px;\r\n    padding-top: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .left {\r\n        display: flex;\r\n        flex: 1;\r\n\r\n        .img {\r\n            width: 70px;\r\n            height: 70px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n            img {\r\n                height: fit-content;\r\n                width: auto;\r\n                max-height: 100%;\r\n                max-width: 100%;\r\n            }\r\n        }\r\n\r\n        .goods_info {\r\n            width: 150px;\r\n            padding-left: 5px;\r\n\r\n            .money {\r\n\r\n                color: var(--main-color);\r\n                font-weight: bold;\r\n                margin-top: 10px;\r\n            }\r\n\r\n            .name {\r\n                //   height: 36.5px;\r\n                font-size: 14px;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                display: -webkit-box;\r\n                -webkit-box-orient: vertical;\r\n                -moz-box-orient: vertical;\r\n                box-orient: vertical;\r\n                -webkit-line-clamp: 2;\r\n                line-clamp: 2;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.card-but {\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 5%;\r\n    width: 90%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 0 auto;\r\n\r\n    .but {\r\n        margin: 0 auto;\r\n        // background: var(--main-color);\r\n        background: var(--main-color);\r\n        border: none;\r\n    }\r\n}\r\n\r\n.reviews-list {\r\n    width: 100%;\r\n    background: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n\r\n    .sheet-item {\r\n        width: 100%;\r\n        margin-bottom: 30px;\r\n        border-top: 1px solid rgba(238, 238, 238, 1);\r\n\r\n        .top {\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            align-items: center;\r\n            padding: 10px 0 5px 0;\r\n\r\n            .img {\r\n                width: 30px;\r\n                height: 30px;\r\n                border-radius: 50%;\r\n                border: 1px solid rgba(238, 238, 238, 1);\r\n                // margin: 0 4%;\r\n            }\r\n\r\n            .name {\r\n                font-size: 14px;\r\n                font-weight: 600;\r\n                display: flex;\r\n                align-items: center;\r\n                width: 100%;\r\n                justify-content: space-between;\r\n\r\n\r\n            }\r\n\r\n            .name-title {\r\n                margin-left: 10px;\r\n                // width: 100px;\r\n                display: -webkit-box;\r\n                -webkit-box-orient: vertical;\r\n                -moz-box-orient: vertical;\r\n                box-orient: vertical;\r\n                -webkit-line-clamp: 2;\r\n                line-clamp: 2;\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n            }\r\n\r\n            .date {\r\n                font-size: 10px;\r\n                margin-top: 5px;\r\n            }\r\n        }\r\n\r\n        .mid {\r\n\r\n            // padding: 0 15px;\r\n            span {\r\n                margin-left: 20px;\r\n\r\n                color: var(--main-color);\r\n                font-size: 12px;\r\n            }\r\n\r\n            .sku {\r\n                margin-top: 5px;\r\n                margin-bottom: 5px;\r\n\r\n                span {\r\n                    margin: 0;\r\n                    color: #999999;\r\n                    font-size: 10px;\r\n\r\n                    &::before {\r\n                        content: '';\r\n                        display: inline-block;\r\n                        width: 1px;\r\n                        height: 7px;\r\n                        background: #D9D9D9;\r\n                        margin: 0 5px;\r\n                    }\r\n\r\n                    &:first-child {\r\n                        &::before {\r\n                            content: '';\r\n                            display: none;\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        .btm_date {\r\n            // padding: 0 15px;\r\n            margin-top: 9px;\r\n            font-size: 10px;\r\n            color: #999;\r\n        }\r\n\r\n        .reviews {\r\n            color: #000;\r\n            font-size: 12px;\r\n            display: inline-block;\r\n            padding: 2% 1% 2% 0;\r\n            word-break: break-word;\r\n            white-space: pre-wrap;\r\n        }\r\n    }\r\n}\r\n\r\n.sku_box {\r\n    border-bottom: 1px solid #eee;\r\n    padding: 20px 0 15px 0;\r\n\r\n    .attributes_box {\r\n        max-height: 330px;\r\n        overflow-y: auto;\r\n        scrollbar-width: none;\r\n        -ms-overflow-style: none;\r\n\r\n        &::-webkit-scrollbar {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    .attributes {\r\n\r\n        .p_title {\r\n            font-size: 14px;\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        ul {\r\n            display: flex;\r\n            // flex-wrap: wrap;\r\n            overflow-x: auto;\r\n            scrollbar-width: none;\r\n            -ms-overflow-style: none;\r\n\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n\r\n            li {\r\n                // width: 100px;\r\n                // flex: 0 0 100px;\r\n                padding: 5px 16px;\r\n                background: #f2f2f2;\r\n                margin-right: 10px;\r\n                margin-bottom: 10px;\r\n                border-radius: 4px;\r\n                // min-width: 38px;\r\n                // min-height: 38px;\r\n                border: 1px solid #eee;\r\n                display: flex;\r\n                justify-content: center;\r\n                align-items: center;\r\n                white-space: nowrap;\r\n\r\n                img {\r\n                    max-width: 25px;\r\n                    max-height: 25px;\r\n                }\r\n\r\n                &.active {\r\n                    background: var(--main-color);\r\n                    color: #fff !important;\r\n                }\r\n\r\n                &.disabled {\r\n                    color: #A3A3A3;\r\n                    opacity: .8;\r\n                    // opacity: .5;\r\n                }\r\n\r\n                &.img_box {\r\n                    min-width: 38px;\r\n                    min-height: 38px;\r\n                    padding: 0;\r\n                    background: #fff;\r\n\r\n                    &.disabled {\r\n                        border: 1px dashed #eee !important;\r\n                        background: transparent !important;\r\n                        opacity: .5;\r\n                        // -webkit-filter: grayscale(100%);\r\n                        // -moz-filter: grayscale(100%);\r\n                        // -ms-filter: grayscale(100%);\r\n                        // -o-filter: grayscale(100%);\r\n                        // filter: grayscale(100%);\r\n                        // filter: gray;\r\n                    }\r\n\r\n                    &.active {\r\n                        border-color: var(--main-color);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n    transition: opacity .3s\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n    opacity: 0\r\n}\r\n\r\n:deep(.van-swipe) {\r\n    overflow-y: auto !important;\r\n}</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}