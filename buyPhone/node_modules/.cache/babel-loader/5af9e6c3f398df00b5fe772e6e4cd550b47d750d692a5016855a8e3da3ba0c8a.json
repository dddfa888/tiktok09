{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { priceFormat } from '@/utils/utis';\nimport { orderReturns } from '@/API/user';\nexport default {\n  name: 'OrderRefund',\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_Toast.name]: _Toast\n  },\n  data() {\n    return {\n      optionsData: [{\n        value: '1',\n        label: this.$t('未收到货')\n      }, {\n        value: '2',\n        label: this.$t('不喜欢，不想要')\n      }, {\n        value: '3',\n        label: this.$t('卖家发错货')\n      }, {\n        value: '4',\n        label: this.$t('假冒品牌')\n      }, {\n        value: '5',\n        label: this.$t('少发、漏发')\n      }, {\n        value: '6',\n        label: this.$t('收到商品破损')\n      }, {\n        value: '7',\n        label: this.$t('存在质量问题')\n      }, {\n        value: '8',\n        label: this.$t('与商家协商一致退款')\n      }, {\n        value: '9',\n        label: this.$t('其他原因')\n      }],\n      orderId: null,\n      priceFormat,\n      formData: {\n        returnReason: '',\n        money: 0,\n        returnDetail: ''\n      }\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const {\n        id,\n        a\n      } = this.$route.query;\n      if (id && (a || a === 0)) {\n        this.orderId = id;\n        this.formData.money = this.priceFormat(a);\n      } else {\n        _Toast(this.$t('订单号不存在'));\n        setTimeout(() => {\n          this.$router.back();\n        }, 1500);\n      }\n    });\n  },\n  methods: {\n    submitHandle() {\n      if (this.formData.returnReason === '') {\n        _Toast(this.$t('请选择') + this.$t('退款理由'));\n        return false;\n      }\n      //   if (this.formData.returnDetail === ''){\n      //     Toast(this.$t('请输入') + this.$t('退款说明'));\n      //     return false\n      //   }\n\n      _Toast.loading({\n        duration: 0,\n        message: this.$t('提交中'),\n        forbidClick: true\n      });\n      const params = {\n        orderId: this.orderId,\n        ...this.formData\n      };\n      orderReturns(params).then(() => {\n        _Toast(this.$t('提交成功'));\n        setTimeout(() => {\n          this.$router.back();\n        }, 1500);\n      }).catch(() => {\n        _Toast.clear();\n      });\n    }\n  }\n};","map":{"version":3,"names":["priceFormat","orderReturns","name","components","_NavBar","_Toast","data","optionsData","value","label","$t","orderId","formData","returnReason","money","returnDetail","mounted","$nextTick","id","a","$route","query","setTimeout","$router","back","methods","submitHandle","loading","duration","message","forbidClick","params","then","catch","clear"],"sources":["src/page/Order/Refund/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-content\">\r\n    <van-nav-bar safe-area-inset-top\r\n      fixed\r\n      :title=\"$t('退款申请')\"\r\n      left-arrow\r\n      @click-left=\"() => $router.back()\"\r\n    />\r\n    <div style=\"width: 100%;\" class=\"h46\"></div>\r\n\r\n    <div class=\"nr\">\r\n      <div class=\"biaoti\">{{ $t('退款理由') }}</div>\r\n      <div class=\"shuru\">\r\n        <el-select v-model=\"formData.returnReason\" :placeholder=\"$t('请选择')\" style=\"width: 100%;\">\r\n          <el-option\r\n            v-for=\"item in optionsData\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </div>\r\n\r\n      <div class=\"biaoti\">{{ $t('退款金额') }}</div>\r\n      <div class=\"shuru\">\r\n        <el-input\r\n          v-model=\"formData.money\"\r\n          disabled\r\n        />\r\n      </div>\r\n\r\n      <div class=\"biaoti\">{{ $t('退款说明') }}</div>\r\n      <div class=\"shuru\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          :rows=\"3\"\r\n          maxlength=\"120\" show-word-limit\r\n          :placeholder=\"$t('请输入')\"\r\n          v-model=\"formData.returnDetail\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"tijiao\" @click=\"submitHandle\">{{ $t('提交') }}</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {NavBar, Toast} from 'vant'\r\nimport {priceFormat} from '@/utils/utis'\r\nimport {\r\n  orderReturns\r\n} from '@/API/user'\r\nexport default {\r\n  name: 'OrderRefund',\r\n  components: {\r\n    [NavBar.name]:NavBar,\r\n    [Toast.name]:Toast\r\n  },\r\n  data() {\r\n    return {\r\n      optionsData: [\r\n        {\r\n          value: '1',\r\n          label: this.$t('未收到货')\r\n        },\r\n        {\r\n          value: '2',\r\n          label: this.$t('不喜欢，不想要')\r\n        },\r\n        {\r\n          value: '3',\r\n          label: this.$t('卖家发错货')\r\n        },\r\n        {\r\n          value: '4',\r\n          label: this.$t('假冒品牌')\r\n        },\r\n        {\r\n          value: '5',\r\n          label: this.$t('少发、漏发')\r\n        },\r\n        {\r\n          value: '6',\r\n          label: this.$t('收到商品破损')\r\n        },\r\n        {\r\n          value: '7',\r\n          label: this.$t('存在质量问题')\r\n        },\r\n        {\r\n          value: '8',\r\n          label: this.$t('与商家协商一致退款')\r\n        },\r\n        {\r\n          value: '9',\r\n          label: this.$t('其他原因')\r\n        }\r\n      ],\r\n      orderId: null,\r\n      priceFormat,\r\n      formData: {\r\n        returnReason: '',\r\n        money: 0,\r\n        returnDetail: ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      const { id, a } = this.$route.query\r\n      if (id && (a || a === 0)) {\r\n        this.orderId = id\r\n        this.formData.money = this.priceFormat(a)\r\n      } else {\r\n        Toast(this.$t('订单号不存在'))\r\n        setTimeout(() => {\r\n          this.$router.back()\r\n        }, 1500);\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    submitHandle() {\r\n      if (this.formData.returnReason === ''){\r\n        Toast(this.$t('请选择') + this.$t('退款理由'));\r\n        return false\r\n      }\r\n    //   if (this.formData.returnDetail === ''){\r\n    //     Toast(this.$t('请输入') + this.$t('退款说明'));\r\n    //     return false\r\n    //   }\r\n      \r\n      Toast.loading({\r\n        duration: 0,\r\n        message: this.$t('提交中'),\r\n        forbidClick: true\r\n      })\r\n\r\n      const params = {\r\n        orderId: this.orderId,\r\n        ...this.formData\r\n      }\r\n\r\n      orderReturns(params).then(() => {\r\n        Toast(this.$t('提交成功'))\r\n        setTimeout(() => {\r\n          this.$router.back()\r\n        }, 1500);\r\n      }).catch(() => {\r\n        Toast.clear()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.el-select-dropdown__item.selected {\r\n  color: var(--main-color) !important;\r\n}\r\n.page-content {\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n  /deep/ .el-input {\r\n    input:focus {\r\n      border-color: var(--main-color) !important;\r\n    }\r\n  }\r\n\r\n  /deep/ .el-textarea {\r\n    textarea:focus {\r\n      border-color: var(--main-color) !important;\r\n    }\r\n  }\r\n\r\n  .nr {\r\n    width: 100%;\r\n    padding: 0 15px;\r\n    box-sizing: border-box;\r\n\r\n    /deep/ .el-select .el-input.is-focus .el-input__inner {\r\n      border-color: var(--main-color) !important;\r\n    }\r\n    .biaoti{\r\n      margin-top: 20px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      line-height: 16px;\r\n      color: #333333;\r\n    }\r\n\r\n    .shuru{\r\n      width: 100%;\r\n      margin-top: 5px;\r\n    }\r\n\r\n    .tijiao{\r\n      margin-top: 40px;\r\n      width: 100%;\r\n      height: 44px;\r\n      background: var(--main-color);\r\n      border-radius: 4px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      font-size: 16px;\r\n      line-height: 44px;\r\n      /* identical to box height, or 100% */\r\n\r\n      text-align: center;\r\n\r\n      color: #FFFFFF;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;AAiDA,SAAAA,WAAA;AACA,SACAC,YAAA,QACA;AACA;EACAC,IAAA;EACAC,UAAA;IACA,CAAAC,OAAA,CAAAF,IAAA,GAAAE,OAAA;IACA,CAAAC,MAAA,CAAAH,IAAA,GAAAG;EACA;EACAC,KAAA;IACA;MACAC,WAAA,GACA;QACAC,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,EACA;MACAC,OAAA;MACAX,WAAA;MACAY,QAAA;QACAC,YAAA;QACAC,KAAA;QACAC,YAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA;QAAAC,EAAA;QAAAC;MAAA,SAAAC,MAAA,CAAAC,KAAA;MACA,IAAAH,EAAA,KAAAC,CAAA,IAAAA,CAAA;QACA,KAAAR,OAAA,GAAAO,EAAA;QACA,KAAAN,QAAA,CAAAE,KAAA,QAAAd,WAAA,CAAAmB,CAAA;MACA;QACAd,MAAA,MAAAK,EAAA;QACAY,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,SAAAd,QAAA,CAAAC,YAAA;QACAR,MAAA,MAAAK,EAAA,eAAAA,EAAA;QACA;MACA;MACA;MACA;MACA;MACA;;MAEAL,MAAA,CAAAsB,OAAA;QACAC,QAAA;QACAC,OAAA,OAAAnB,EAAA;QACAoB,WAAA;MACA;MAEA,MAAAC,MAAA;QACApB,OAAA,OAAAA,OAAA;QACA,QAAAC;MACA;MAEAX,YAAA,CAAA8B,MAAA,EAAAC,IAAA;QACA3B,MAAA,MAAAK,EAAA;QACAY,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,GAAAS,KAAA;QACA5B,MAAA,CAAA6B,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}