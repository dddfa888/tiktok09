{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { apiRefreshAvatar } from \"@/API/common\";\nexport default {\n  components: {\n    [_NavBar.name]: _NavBar\n  },\n  data() {\n    return {\n      current: 1\n    };\n  },\n  mounted() {\n    this.current = this.$route.query?.avatar || 1;\n  },\n  methods: {\n    selectAvatar(item) {\n      this.current = item;\n      // this.$emit('selectAvatar', item)\n    },\n    async submitHandle() {\n      _Toast.loading({\n        duration: 0,\n        forbidClick: true,\n        message: \"\"\n      });\n      await apiRefreshAvatar({\n        idx: this.current\n      });\n      _Toast.clear();\n      this.$router.go(-1);\n    }\n  }\n};","map":{"version":3,"names":["apiRefreshAvatar","components","_NavBar","name","data","current","mounted","$route","query","avatar","methods","selectAvatar","item","submitHandle","_Toast","loading","duration","forbidClick","message","idx","clear","$router","go"],"sources":["src/page/avatarSelection/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"avatar_wrap\">\r\n        <van-nav-bar safe-area-inset-top fixed :title=\"$t('选择头像')\" :right-text=\"$t('保存')\" left-arrow @click-left=\"$router.go(-1)\"\r\n            @click-right=\"submitHandle\" />\r\n        <div style=\"width: 100%; height: 46px\"></div>\r\n        <div class=\"avatar_box\">\r\n            <div class=\"image\" v-for=\"item of 20\" :key=\"item\">\r\n                <img :src=\"require(`@/assets/image/avatar/${item}.png`)\" @click=\"selectAvatar(item)\" class=\"avatar\" alt=\"\">\r\n                <div class=\"active\" v-if=\"item == current\">\r\n                    <img src=\"@/assets/image/dui.png\" class=\"icon\" alt=\"\">\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { NavBar, Toast } from \"vant\";\r\nimport { apiRefreshAvatar } from \"@/API/common\";\r\nexport default {\r\n    components: {\r\n        [NavBar.name]: NavBar,\r\n    },\r\n    data() {\r\n        return {\r\n            current: 1\r\n        }\r\n    },\r\n    mounted() {\r\n        this.current = this.$route.query?.avatar || 1\r\n    },\r\n    methods: {\r\n        selectAvatar(item) {\r\n            this.current = item\r\n            // this.$emit('selectAvatar', item)\r\n        },\r\n        async submitHandle() {\r\n            Toast.loading({\r\n                duration: 0,\r\n                forbidClick: true,\r\n                message: \"\"\r\n            });\r\n            await apiRefreshAvatar({ idx: this.current })\r\n            Toast.clear();\r\n            this.$router.go(-1)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avatar_box {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 30px 19px;\r\n\r\n    .image {\r\n        position: relative;\r\n        border-radius: 50%;\r\n        margin-right: 25px;\r\n        margin-bottom: 25px;\r\n\r\n        &:nth-child(4n) {\r\n            margin-right: 0;\r\n        }\r\n\r\n        .active {\r\n            width: 20px;\r\n            height: 20px;\r\n            background: var(--main-color);\r\n            position: absolute;\r\n            bottom: 2px;\r\n            right: 2px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            border-radius: 50%;\r\n            border: 1px solid #fff;\r\n\r\n            .icon {\r\n                width: 8px;\r\n                height: 10px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .avatar {\r\n        width: 64px;\r\n        height: 64px;\r\n        border-radius: 50%;\r\n\r\n\r\n\r\n    }\r\n}\r\n</style>"],"mappings":";;;;AAmBA,SAAAA,gBAAA;AACA;EACAC,UAAA;IACA,CAAAC,OAAA,CAAAC,IAAA,GAAAD;EACA;EACAE,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAD,OAAA,QAAAE,MAAA,CAAAC,KAAA,EAAAC,MAAA;EACA;EACAC,OAAA;IACAC,aAAAC,IAAA;MACA,KAAAP,OAAA,GAAAO,IAAA;MACA;IACA;IACA,MAAAC,aAAA;MACAC,MAAA,CAAAC,OAAA;QACAC,QAAA;QACAC,WAAA;QACAC,OAAA;MACA;MACA,MAAAlB,gBAAA;QAAAmB,GAAA,OAAAd;MAAA;MACAS,MAAA,CAAAM,KAAA;MACA,KAAAC,OAAA,CAAAC,EAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}