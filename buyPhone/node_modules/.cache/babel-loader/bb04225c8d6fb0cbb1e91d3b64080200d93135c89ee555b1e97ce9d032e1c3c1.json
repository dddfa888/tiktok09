{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"core-js/modules/es.array.push.js\";\nimport { setSafewordReg } from \"@/API/user\";\nimport { isLogin } from '@/utils/utis';\nimport Vcode from \"vue-puzzle-vcode\";\nexport default {\n  data() {\n    return {\n      img1: require('@/assets/image/slider/1.png'),\n      img2: require('@/assets/image/slider/2.png'),\n      img3: require('@/assets/image/slider/3.png'),\n      img4: require('@/assets/image/slider/4.png'),\n      img5: require('@/assets/image/slider/5.png'),\n      show: false,\n      it: {\n        input2: '',\n        input3: ''\n      }\n    };\n  },\n  components: {\n    [_NavBar.name]: _NavBar,\n    Vcode\n  },\n  created() {\n    if (!isLogin()) {\n      this.$router.push('/');\n    }\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.go(-1);\n    },\n    biaodantijiao() {\n      const t = this;\n      if (t.it.input2 === '') {\n        this.$notifyWarn(t.$t('请输入6位数数字密码'));\n        return;\n      }\n      if (t.it.input3 !== t.it.input2) {\n        this.$notifyWarn(t.$t('两次密码输入不一致'));\n        return;\n      }\n      this.show = true;\n    },\n    onSuccess() {\n      this.submitHandle();\n      this.show = false;\n    },\n    submitHandle() {\n      _Toast.loading();\n      const params = {\n        safeword: this.it.input2\n      };\n      setSafewordReg(params).then(async () => {\n        _Toast.clear();\n        this.$notify(this.$t('设置成功'), 'success');\n        await this.$store.dispatch('getUserInfo');\n        this.onClickLeft();\n      }).catch(err => {\n        _Toast.clear();\n        // Toast.fail(err.msg)\n      });\n    }\n  }\n};","map":{"version":3,"names":["setSafewordReg","isLogin","Vcode","data","img1","require","img2","img3","img4","img5","show","it","input2","input3","components","_NavBar","name","created","$router","push","methods","onClickLeft","go","biaodantijiao","t","$notifyWarn","$t","onSuccess","submitHandle","_Toast","loading","params","safeword","then","clear","$notify","$store","dispatch","catch","err"],"sources":["src/page/FundPasswordSettings/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"FundPasswordSettings\" style=\"min-height: 100vh;\">\r\n        <Vcode style=\"direction: ltr;\" :imgs=\"[img1, img2, img3, img4, img5]\" :show=\"show\" @success=\"onSuccess\" :canvasHeight=\"200\"\r\n            @close=\"show = false;\" :sliderText=\"$t('拖动滑块以完成拼图')\" :successText=\"$t('验证通过!')\" :failText=\"$t('验证失败,请重试')\" />\r\n\r\n        <van-nav-bar safe-area-inset-top fixed :title=\" $t('设置资金密码') \" left-arrow @click-left=\" onClickLeft \" />\r\n        <div style=\"width: 100%;\" class=\"h46\"></div>\r\n        <div class=\"nr\">\r\n            <div class=\"biaoti\">{{ this.$t('资金密码') }}</div>\r\n            <div class=\"shuru\">\r\n                <el-input oninput=\"value=value.replace(/[^\\d]/g,'')\" :placeholder=\" $t('请输入6位数数字密码') \" maxlength=\"6\"\r\n                    v-model=\" it.input2 \" show-password clearable>\r\n                </el-input>\r\n            </div>\r\n            <div class=\"biaoti\">{{ $t('再次输入资金密码') }}</div>\r\n            <div class=\"shuru\">\r\n                <el-input oninput=\"value=value.replace(/[^\\d]/g,'')\" :placeholder=\" $t('请再次输入6位数数字密码') \" maxlength=\"6\"\r\n                    v-model=\" it.input3 \" show-password clearable>\r\n                </el-input>\r\n            </div>\r\n            <div class=\"tijiao\" @click=\" biaodantijiao \">{{ $t('提交') }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { NavBar, Toast } from 'vant';\r\nimport { setSafewordReg } from \"@/API/user\";\r\nimport { isLogin } from '@/utils/utis'\r\nimport Vcode from \"vue-puzzle-vcode\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            img1: require('@/assets/image/slider/1.png'),\r\n            img2: require('@/assets/image/slider/2.png'),\r\n            img3: require('@/assets/image/slider/3.png'),\r\n            img4: require('@/assets/image/slider/4.png'),\r\n            img5: require('@/assets/image/slider/5.png'),\r\n            show: false,\r\n            it: {\r\n                input2: '',\r\n                input3: '',\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        [NavBar.name]: NavBar,\r\n        Vcode\r\n    },\r\n    created() {\r\n        if (!isLogin()) {\r\n            this.$router.push('/')\r\n        }\r\n    },\r\n    methods: {\r\n        onClickLeft() {\r\n            this.$router.go(-1)\r\n        },\r\n\r\n        biaodantijiao() {\r\n            const t = this\r\n            if (t.it.input2 === '') {\r\n                this.$notifyWarn(t.$t('请输入6位数数字密码'));\r\n                return\r\n            }\r\n            if (t.it.input3 !== t.it.input2) {\r\n                this.$notifyWarn(t.$t('两次密码输入不一致'));\r\n                return\r\n            }\r\n            this.show = true\r\n        },\r\n\r\n        onSuccess() {\r\n            this.submitHandle()\r\n            this.show = false\r\n        },\r\n\r\n        submitHandle() {\r\n            Toast.loading()\r\n\r\n            const params = {\r\n                safeword: this.it.input2\r\n            }\r\n            setSafewordReg(params).then(async () => {\r\n                Toast.clear()\r\n                this.$notify(this.$t('设置成功'), 'success')\r\n                await this.$store.dispatch('getUserInfo')\r\n                this.onClickLeft()\r\n            }).catch(err => {\r\n                Toast.clear()\r\n                // Toast.fail(err.msg)\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.FundPasswordSettings {\r\n    width: 100%;\r\n\r\n    /deep/ .el-input {\r\n        input:focus {\r\n            //   border-color: var(--main-color);\r\n            border-color: var(--main-color);\r\n        }\r\n    }\r\n\r\n    .nr {\r\n        width: 100%;\r\n        padding: 0 15px;\r\n        box-sizing: border-box;\r\n\r\n        .biaoti {\r\n            margin-top: 20px;\r\n            font-style: normal;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            line-height: 16px;\r\n            color: #333333;\r\n        }\r\n\r\n        .shuru {\r\n            width: 100%;\r\n            margin-top: 5px;\r\n        }\r\n\r\n        .tijiao {\r\n            margin-top: 40px;\r\n            width: 100%;\r\n            height: 44px;\r\n            background: var(--main-color);\r\n            border-radius: 4px;\r\n            font-style: normal;\r\n            font-weight: 400;\r\n            font-size: 16px;\r\n            line-height: 44px;\r\n            /* identical to box height, or 100% */\r\n\r\n            text-align: center;\r\n\r\n            color: #FFFFFF;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n"],"mappings":";;;;;AA0BA,SAAAA,cAAA;AACA,SAAAC,OAAA;AACA,OAAAC,KAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,OAAA;MACAC,IAAA,EAAAD,OAAA;MACAE,IAAA,EAAAF,OAAA;MACAG,IAAA,EAAAH,OAAA;MACAI,IAAA,EAAAJ,OAAA;MACAK,IAAA;MACAC,EAAA;QACAC,MAAA;QACAC,MAAA;MACA;IACA;EACA;EACAC,UAAA;IACA,CAAAC,OAAA,CAAAC,IAAA,GAAAD,OAAA;IACAb;EACA;EACAe,QAAA;IACA,KAAAhB,OAAA;MACA,KAAAiB,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAH,OAAA,CAAAI,EAAA;IACA;IAEAC,cAAA;MACA,MAAAC,CAAA;MACA,IAAAA,CAAA,CAAAb,EAAA,CAAAC,MAAA;QACA,KAAAa,WAAA,CAAAD,CAAA,CAAAE,EAAA;QACA;MACA;MACA,IAAAF,CAAA,CAAAb,EAAA,CAAAE,MAAA,KAAAW,CAAA,CAAAb,EAAA,CAAAC,MAAA;QACA,KAAAa,WAAA,CAAAD,CAAA,CAAAE,EAAA;QACA;MACA;MACA,KAAAhB,IAAA;IACA;IAEAiB,UAAA;MACA,KAAAC,YAAA;MACA,KAAAlB,IAAA;IACA;IAEAkB,aAAA;MACAC,MAAA,CAAAC,OAAA;MAEA,MAAAC,MAAA;QACAC,QAAA,OAAArB,EAAA,CAAAC;MACA;MACAZ,cAAA,CAAA+B,MAAA,EAAAE,IAAA;QACAJ,MAAA,CAAAK,KAAA;QACA,KAAAC,OAAA,MAAAT,EAAA;QACA,WAAAU,MAAA,CAAAC,QAAA;QACA,KAAAhB,WAAA;MACA,GAAAiB,KAAA,CAAAC,GAAA;QACAV,MAAA,CAAAK,KAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}